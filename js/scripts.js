!function(){'use strict';function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t,e){if(!(t instanceof e))throw new TypeError('Cannot call a class as a function')}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,'prototype',{writable:!1}),t}function o(t,e,n){return(e=l(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:'undefined'!=typeof Symbol&&t[Symbol.iterator]||t['@@iterator'];if(null!=n){var r,i,o,s,a=[],c=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(t){u=!0,i=t}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}(t,e)||c(t,e)||function(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}()}function a(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if('undefined'!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t['@@iterator'])return Array.from(t)}(t)||c(t)||function(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}()}function c(t,e){if(t){if('string'==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return'Object'===n&&t.constructor&&(n=t.constructor.name),'Map'===n||'Set'===n?Array.from(t):'Arguments'===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t){var e=function(t,e){if('object'!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||'default');if('object'!=typeof r)return r;throw new TypeError('@@toPrimitive must return a primitive value.')}return('string'===e?String:Number)(t)}(t,'string');return'symbol'==typeof e?e:String(e)}function h(t,e,n,r,i){var o={};return Object.keys(r).forEach((function(t){o[t]=r[t]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,('value'in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(t,e,o),o=null),o}function f(t,e){var n=function(t,e,n){if(!e.has(t))throw new TypeError('attempted to '+n+' private field on non-instance');return e.get(t)}(t,e,'get');return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,n)}function p(t,e,n){!function(t,e){if(e.has(t))throw new TypeError('Cannot initialize the same private elements twice on an object')}(t,e),e.set(t,n)}var d='undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:'undefined'!=typeof global?global:'undefined'!=typeof self?self:{},v=function(t){return t&&t.Math==Math&&t},g=v('object'==typeof globalThis&&globalThis)||v('object'==typeof window&&window)||v('object'==typeof self&&self)||v('object'==typeof d&&d)||function(){return this}()||Function('return this')(),y={},b=function(t){try{return!!t()}catch(t){return!0}},m=!b((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),w=!b((function(){var t=function(){}.bind();return'function'!=typeof t||t.hasOwnProperty('prototype')})),E=w,k=Function.prototype.call,S=E?k.bind(k):function(){return k.apply(k,arguments)},O={},x={}.propertyIsEnumerable,C=Object.getOwnPropertyDescriptor,A=C&&!x.call({1:2},1);O.f=A?function(t){var e=C(this,t);return!!e&&e.enumerable}:x;var _,T,j=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},L=w,P=Function.prototype,R=P.call,B=L&&P.bind.bind(R,R),N=L?B:function(t){return function(){return R.apply(t,arguments)}},I=N,D=I({}.toString),M=I(''.slice),q=function(t){return M(D(t),8,-1)},F=b,H=q,z=Object,U=N(''.split),V=F((function(){return!z('z').propertyIsEnumerable(0)}))?function(t){return'String'==H(t)?U(t,''):z(t)}:z,W=function(t){return null==t},K=W,$=TypeError,Y=function(t){if(K(t))throw $('Can\'t call method on '+t);return t},G=V,J=Y,X=function(t){return G(J(t))},Q='object'==typeof document&&document.all,Z={all:Q,IS_HTMLDDA:void 0===Q&&void 0!==Q},tt=Z.all,et=Z.IS_HTMLDDA?function(t){return'function'==typeof t||t===tt}:function(t){return'function'==typeof t},nt=et,rt=Z.all,it=Z.IS_HTMLDDA?function(t){return'object'==typeof t?null!==t:nt(t)||t===rt}:function(t){return'object'==typeof t?null!==t:nt(t)},ot=g,st=et,at=function(t){return st(t)?t:void 0},ct=function(t,e){return arguments.length<2?at(ot[t]):ot[t]&&ot[t][e]},ut=N({}.isPrototypeOf),lt='undefined'!=typeof navigator&&String(navigator.userAgent)||'',ht=g,ft=lt,pt=ht.process,dt=ht.Deno,vt=pt&&pt.versions||dt&&dt.version,gt=vt&&vt.v8;gt&&(T=(_=gt.split('.'))[0]>0&&_[0]<4?1:+(_[0]+_[1])),!T&&ft&&(!(_=ft.match(/Edge\/(\d+)/))||_[1]>=74)&&(_=ft.match(/Chrome\/(\d+)/))&&(T=+_[1]);var yt=T,bt=yt,mt=b,wt=!!Object.getOwnPropertySymbols&&!mt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&bt&&bt<41})),Et=wt&&!Symbol.sham&&'symbol'==typeof Symbol.iterator,kt=ct,St=et,Ot=ut,xt=Object,Ct=Et?function(t){return'symbol'==typeof t}:function(t){var e=kt('Symbol');return St(e)&&Ot(e.prototype,xt(t))},At=String,_t=function(t){try{return At(t)}catch(t){return'Object'}},Tt=et,jt=_t,Lt=TypeError,Pt=function(t){if(Tt(t))return t;throw Lt(jt(t)+' is not a function')},Rt=Pt,Bt=W,Nt=function(t,e){var n=t[e];return Bt(n)?void 0:Rt(n)},It=S,Dt=et,Mt=it,qt=TypeError,Ft={exports:{}},Ht=g,zt=Object.defineProperty,Ut=function(t,e){try{zt(Ht,t,{value:e,configurable:!0,writable:!0})}catch(n){Ht[t]=e}return e},Vt=Ut,Wt='__core-js_shared__',Kt=g[Wt]||Vt(Wt,{}),$t=Kt;(Ft.exports=function(t,e){return $t[t]||($t[t]=void 0!==e?e:{})})('versions',[]).push({version:'3.29.0',mode:'global',copyright:'Â© 2014-2023 Denis Pushkarev (zloirock.ru)',license:'https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE',source:'https://github.com/zloirock/core-js'});var Yt=Y,Gt=Object,Jt=function(t){return Gt(Yt(t))},Xt=Jt,Qt=N({}.hasOwnProperty),Zt=Object.hasOwn||function(t,e){return Qt(Xt(t),e)},te=N,ee=0,ne=Math.random(),re=te(1..toString),ie=function(t){return'Symbol('+(void 0===t?'':t)+')_'+re(++ee+ne,36)},oe=g,se=Ft.exports,ae=Zt,ce=ie,ue=wt,le=Et,he=oe.Symbol,fe=se('wks'),pe=le?he.for||he:he&&he.withoutSetter||ce,de=function(t){return ae(fe,t)||(fe[t]=ue&&ae(he,t)?he[t]:pe('Symbol.'+t)),fe[t]},ve=S,ge=it,ye=Ct,be=Nt,me=function(t,e){var n,r;if('string'===e&&Dt(n=t.toString)&&!Mt(r=It(n,t)))return r;if(Dt(n=t.valueOf)&&!Mt(r=It(n,t)))return r;if('string'!==e&&Dt(n=t.toString)&&!Mt(r=It(n,t)))return r;throw qt('Can\'t convert object to primitive value')},we=TypeError,Ee=de('toPrimitive'),ke=function(t,e){if(!ge(t)||ye(t))return t;var n,r=be(t,Ee);if(r){if(void 0===e&&(e='default'),n=ve(r,t,e),!ge(n)||ye(n))return n;throw we('Can\'t convert object to primitive value')}return void 0===e&&(e='number'),me(t,e)},Se=Ct,Oe=function(t){var e=ke(t,'string');return Se(e)?e:e+''},xe=it,Ce=g.document,Ae=xe(Ce)&&xe(Ce.createElement),_e=function(t){return Ae?Ce.createElement(t):{}},Te=_e,je=!m&&!b((function(){return 7!=Object.defineProperty(Te('div'),'a',{get:function(){return 7}}).a})),Le=m,Pe=S,Re=O,Be=j,Ne=X,Ie=Oe,De=Zt,Me=je,qe=Object.getOwnPropertyDescriptor;y.f=Le?qe:function(t,e){if(t=Ne(t),e=Ie(e),Me)try{return qe(t,e)}catch(t){}if(De(t,e))return Be(!Pe(Re.f,t,e),t[e])};var Fe={},He=m&&b((function(){return 42!=Object.defineProperty((function(){}),'prototype',{value:42,writable:!1}).prototype})),ze=it,Ue=String,Ve=TypeError,We=function(t){if(ze(t))return t;throw Ve(Ue(t)+' is not an object')},Ke=m,$e=je,Ye=He,Ge=We,Je=Oe,Xe=TypeError,Qe=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,tn='enumerable',en='configurable',nn='writable';Fe.f=Ke?Ye?function(t,e,n){if(Ge(t),e=Je(e),Ge(n),'function'==typeof t&&'prototype'===e&&'value'in n&&nn in n&&!n[nn]){var r=Ze(t,e);r&&r[nn]&&(t[e]=n.value,n={configurable:en in n?n[en]:r[en],enumerable:tn in n?n[tn]:r[tn],writable:!1})}return Qe(t,e,n)}:Qe:function(t,e,n){if(Ge(t),e=Je(e),Ge(n),$e)try{return Qe(t,e,n)}catch(t){}if('get'in n||'set'in n)throw Xe('Accessors not supported');return'value'in n&&(t[e]=n.value),t};var rn=Fe,on=j,sn=m?function(t,e,n){return rn.f(t,e,on(1,n))}:function(t,e,n){return t[e]=n,t},an={exports:{}},cn=m,un=Zt,ln=Function.prototype,hn=cn&&Object.getOwnPropertyDescriptor,fn=un(ln,'name'),pn={EXISTS:fn,PROPER:fn&&'something'===function(){}.name,CONFIGURABLE:fn&&(!cn||cn&&hn(ln,'name').configurable)},dn=et,vn=Kt,gn=N(Function.toString);dn(vn.inspectSource)||(vn.inspectSource=function(t){return gn(t)});var yn,bn,mn,wn=vn.inspectSource,En=et,kn=g.WeakMap,Sn=En(kn)&&/native code/.test(String(kn)),On=Ft.exports,xn=ie,Cn=On('keys'),An=function(t){return Cn[t]||(Cn[t]=xn(t))},_n={},Tn=Sn,jn=g,Ln=it,Pn=sn,Rn=Zt,Bn=Kt,Nn=An,In=_n,Dn='Object already initialized',Mn=jn.TypeError,qn=jn.WeakMap;if(Tn||Bn.state){var Fn=Bn.state||(Bn.state=new qn);Fn.get=Fn.get,Fn.has=Fn.has,Fn.set=Fn.set,yn=function(t,e){if(Fn.has(t))throw Mn(Dn);return e.facade=t,Fn.set(t,e),e},bn=function(t){return Fn.get(t)||{}},mn=function(t){return Fn.has(t)}}else{var Hn=Nn('state');In[Hn]=!0,yn=function(t,e){if(Rn(t,Hn))throw Mn(Dn);return e.facade=t,Pn(t,Hn,e),e},bn=function(t){return Rn(t,Hn)?t[Hn]:{}},mn=function(t){return Rn(t,Hn)}}var zn={set:yn,get:bn,has:mn,enforce:function(t){return mn(t)?bn(t):yn(t,{})},getterFor:function(t){return function(e){var n;if(!Ln(e)||(n=bn(e)).type!==t)throw Mn('Incompatible receiver, '+t+' required');return n}}},Un=N,Vn=b,Wn=et,Kn=Zt,$n=m,Yn=pn.CONFIGURABLE,Gn=wn,Jn=zn.enforce,Xn=zn.get,Qn=String,Zn=Object.defineProperty,tr=Un(''.slice),er=Un(''.replace),nr=Un([].join),rr=$n&&!Vn((function(){return 8!==Zn((function(){}),'length',{value:8}).length})),ir=String(String).split('String'),or=an.exports=function(t,e,n){'Symbol('===tr(Qn(e),0,7)&&(e='['+er(Qn(e),/^Symbol\(([^)]*)\)/,'$1')+']'),n&&n.getter&&(e='get '+e),n&&n.setter&&(e='set '+e),(!Kn(t,'name')||Yn&&t.name!==e)&&($n?Zn(t,'name',{value:e,configurable:!0}):t.name=e),rr&&n&&Kn(n,'arity')&&t.length!==n.arity&&Zn(t,'length',{value:n.arity});try{n&&Kn(n,'constructor')&&n.constructor?$n&&Zn(t,'prototype',{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=Jn(t);return Kn(r,'source')||(r.source=nr(ir,'string'==typeof e?e:'')),t};Function.prototype.toString=or((function(){return Wn(this)&&Xn(this).source||Gn(this)}),'toString');var sr=et,ar=Fe,cr=an.exports,ur=Ut,lr=function(t,e,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:e;if(sr(n)&&cr(n,o,r),r.global)i?t[e]=n:ur(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=n:ar.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},hr={},fr=Math.ceil,pr=Math.floor,dr=Math.trunc||function(t){var e=+t;return(e>0?pr:fr)(e)},vr=function(t){var e=+t;return e!=e||0===e?0:dr(e)},gr=vr,yr=Math.max,br=Math.min,mr=function(t,e){var n=gr(t);return n<0?yr(n+e,0):br(n,e)},wr=vr,Er=Math.min,kr=function(t){return t>0?Er(wr(t),9007199254740991):0},Sr=kr,Or=function(t){return Sr(t.length)},xr=X,Cr=mr,Ar=Or,_r=function(t){return function(e,n,r){var i,o=xr(e),s=Ar(o),a=Cr(r,s);if(t&&n!=n){for(;s>a;)if((i=o[a++])!=i)return!0}else for(;s>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},Tr={includes:_r(!0),indexOf:_r(!1)},jr=Zt,Lr=X,Pr=Tr.indexOf,Rr=_n,Br=N([].push),Nr=function(t,e){var n,r=Lr(t),i=0,o=[];for(n in r)!jr(Rr,n)&&jr(r,n)&&Br(o,n);for(;e.length>i;)jr(r,n=e[i++])&&(~Pr(o,n)||Br(o,n));return o},Ir=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf'],Dr=Nr,Mr=Ir.concat('length','prototype');hr.f=Object.getOwnPropertyNames||function(t){return Dr(t,Mr)};var qr={};qr.f=Object.getOwnPropertySymbols;var Fr=ct,Hr=hr,zr=qr,Ur=We,Vr=N([].concat),Wr=Fr('Reflect','ownKeys')||function(t){var e=Hr.f(Ur(t)),n=zr.f;return n?Vr(e,n(t)):e},Kr=Zt,$r=Wr,Yr=y,Gr=Fe,Jr=b,Xr=et,Qr=/#|\.prototype\./,Zr=function(t,e){var n=ei[ti(t)];return n==ri||n!=ni&&(Xr(e)?Jr(e):!!e)},ti=Zr.normalize=function(t){return String(t).replace(Qr,'.').toLowerCase()},ei=Zr.data={},ni=Zr.NATIVE='N',ri=Zr.POLYFILL='P',ii=Zr,oi=g,si=y.f,ai=sn,ci=lr,ui=Ut,li=function(t,e,n){for(var r=$r(e),i=Gr.f,o=Yr.f,s=0;s<r.length;s++){var a=r[s];Kr(t,a)||n&&Kr(n,a)||i(t,a,o(e,a))}},hi=ii,fi=function(t,e){var n,r,i,o,s,a=t.target,c=t.global,u=t.stat;if(n=c?oi:u?oi[a]||ui(a,{}):(oi[a]||{}).prototype)for(r in e){if(o=e[r],i=t.dontCallGetSet?(s=si(n,r))&&s.value:n[r],!hi(c?r:a+(u?'.':'#')+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;li(o,i)}(t.sham||i&&i.sham)&&ai(o,'sham',!0),ci(n,r,o,t)}},pi=q,di=N,vi=function(t){if('Function'===pi(t))return di(t)},gi=b,yi=function(t,e){var n=[][t];return!!n&&gi((function(){n.call(null,e||function(){return 1},1)}))},bi=fi,mi=Tr.indexOf,wi=yi,Ei=vi([].indexOf),ki=!!Ei&&1/Ei([1],1,-0)<0;bi({target:'Array',proto:!0,forced:ki||!wi('indexOf')},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return ki?Ei(this,t,e)||0:mi(this,t,e)}});var Si=q,Oi=Array.isArray||function(t){return'Array'==Si(t)},xi=m,Ci=Oi,Ai=TypeError,_i=Object.getOwnPropertyDescriptor,Ti=xi&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],'length',{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(Ci(t)&&!_i(t,'length').writable)throw Ai('Cannot set read only .length');return t.length=e}:function(t,e){return t.length=e},ji=TypeError,Li=function(t){if(t>9007199254740991)throw ji('Maximum allowed index exceeded');return t},Pi={};Pi[de('toStringTag')]='z';var Ri='[object z]'===String(Pi),Bi=Ri,Ni=et,Ii=q,Di=de('toStringTag'),Mi=Object,qi='Arguments'==Ii(function(){return arguments}()),Fi=Bi?Ii:function(t){var e,n,r;return void 0===t?'Undefined':null===t?'Null':'string'==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Mi(t),Di))?n:qi?Ii(e):'Object'==(r=Ii(e))&&Ni(e.callee)?'Arguments':r},Hi=N,zi=b,Ui=et,Vi=Fi,Wi=wn,Ki=function(){},$i=[],Yi=ct('Reflect','construct'),Gi=/^\s*(?:class|function)\b/,Ji=Hi(Gi.exec),Xi=!Gi.exec(Ki),Qi=function(t){if(!Ui(t))return!1;try{return Yi(Ki,$i,t),!0}catch(t){return!1}},Zi=function(t){if(!Ui(t))return!1;switch(Vi(t)){case'AsyncFunction':case'GeneratorFunction':case'AsyncGeneratorFunction':return!1}try{return Xi||!!Ji(Gi,Wi(t))}catch(t){return!0}};Zi.sham=!0;var to=!Yi||zi((function(){var t;return Qi(Qi.call)||!Qi(Object)||!Qi((function(){t=!0}))||t}))?Zi:Qi,eo=Oi,no=to,ro=it,io=de('species'),oo=Array,so=function(t){var e;return eo(t)&&(e=t.constructor,(no(e)&&(e===oo||eo(e.prototype))||ro(e)&&null===(e=e[io]))&&(e=void 0)),void 0===e?oo:e},ao=function(t,e){return new(so(t))(0===e?0:e)},co=Oe,uo=Fe,lo=j,ho=function(t,e,n){var r=co(e);r in t?uo.f(t,r,lo(0,n)):t[r]=n},fo=_t,po=TypeError,vo=function(t,e){if(!delete t[e])throw po('Cannot delete property '+fo(e)+' of '+fo(t))},go=b,yo=yt,bo=de('species'),mo=function(t){return yo>=51||!go((function(){var e=[];return(e.constructor={})[bo]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},wo=fi,Eo=Jt,ko=mr,So=vr,Oo=Or,xo=Ti,Co=Li,Ao=ao,_o=ho,To=vo,jo=mo('splice'),Lo=Math.max,Po=Math.min;wo({target:'Array',proto:!0,forced:!jo},{splice:function(t,e){var n,r,i,o,s,a,c=Eo(this),u=Oo(c),l=ko(t,u),h=arguments.length;for(0===h?n=r=0:1===h?(n=0,r=u-l):(n=h-2,r=Po(Lo(So(e),0),u-l)),Co(u+n-r),i=Ao(c,r),o=0;o<r;o++)(s=l+o)in c&&_o(i,o,c[s]);if(i.length=r,n<r){for(o=l;o<u-r;o++)a=o+n,(s=o+r)in c?c[a]=c[s]:To(c,a);for(o=u;o>u-r+n;o--)To(c,o-1)}else if(n>r)for(o=u-r;o>l;o--)a=o+n-1,(s=o+r-1)in c?c[a]=c[s]:To(c,a);for(o=0;o<n;o++)c[o+l]=arguments[o+2];return xo(c,u-r+n),i}});var Ro=Fi,Bo=Ri?{}.toString:function(){return'[object '+Ro(this)+']'};Ri||lr(Object.prototype,'toString',Bo,{unsafe:!0});var No={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Io=_e('span').classList,Do=Io&&Io.constructor&&Io.constructor.prototype,Mo=Do===Object.prototype?void 0:Do,qo=Pt,Fo=w,Ho=vi(vi.bind),zo=function(t,e){return qo(t),void 0===e?t:Fo?Ho(t,e):function(){return t.apply(e,arguments)}},Uo=zo,Vo=V,Wo=Jt,Ko=Or,$o=ao,Yo=N([].push),Go=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,o=6==t,s=7==t,a=5==t||o;return function(c,u,l,h){for(var f,p,d=Wo(c),v=Vo(d),g=Uo(u,l),y=Ko(v),b=0,m=h||$o,w=e?m(c,y):n||s?m(c,0):void 0;y>b;b++)if((a||b in v)&&(p=g(f=v[b],b,d),t))if(e)w[b]=p;else if(p)switch(t){case 3:return!0;case 5:return f;case 6:return b;case 2:Yo(w,f)}else switch(t){case 4:return!1;case 7:Yo(w,f)}return o?-1:r||i?i:w}},Jo={forEach:Go(0),map:Go(1),filter:Go(2),some:Go(3),every:Go(4),find:Go(5),findIndex:Go(6),filterReject:Go(7)},Xo=Jo.forEach,Qo=yi('forEach')?[].forEach:function(t){return Xo(this,t,arguments.length>1?arguments[1]:void 0)},Zo=g,ts=No,es=Mo,ns=Qo,rs=sn,is=function(t){if(t&&t.forEach!==ns)try{rs(t,'forEach',ns)}catch(e){t.forEach=ns}};for(var os in ts)ts[os]&&is(Zo[os]&&Zo[os].prototype);is(es);var ss=Nr,as=Ir,cs=Object.keys||function(t){return ss(t,as)},us=Jt,ls=cs;fi({target:'Object',stat:!0,forced:b((function(){ls(1)}))},{keys:function(t){return ls(us(t))}});var hs=fi,fs=m,ps=Fe.f;hs({target:'Object',stat:!0,forced:Object.defineProperty!==ps,sham:!fs},{defineProperty:ps});var ds={},vs=m,gs=He,ys=Fe,bs=We,ms=X,ws=cs;ds.f=vs&&!gs?Object.defineProperties:function(t,e){bs(t);for(var n,r=ms(e),i=ws(e),o=i.length,s=0;o>s;)ys.f(t,n=i[s++],r[n]);return t};var Es,ks=ct('document','documentElement'),Ss=We,Os=ds,xs=Ir,Cs=_n,As=ks,_s=_e,Ts='prototype',js='script',Ls=An('IE_PROTO'),Ps=function(){},Rs=function(t){return'<'+js+'>'+t+'</'+js+'>'},Bs=function(t){t.write(Rs('')),t.close();var e=t.parentWindow.Object;return t=null,e},Ns=function(){try{Es=new ActiveXObject('htmlfile')}catch(t){}var t,e,n;Ns='undefined'!=typeof document?document.domain&&Es?Bs(Es):(e=_s('iframe'),n='java'+js+':',e.style.display='none',As.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(Rs('document.F=Object')),t.close(),t.F):Bs(Es);for(var r=xs.length;r--;)delete Ns[Ts][xs[r]];return Ns()};Cs[Ls]=!0;var Is=Object.create||function(t,e){var n;return null!==t?(Ps[Ts]=Ss(t),n=new Ps,Ps[Ts]=null,n[Ls]=t):n=Ns(),void 0===e?n:Os.f(n,e)},Ds=de,Ms=Is,qs=Fe.f,Fs=Ds('unscopables'),Hs=Array.prototype;null==Hs[Fs]&&qs(Hs,Fs,{configurable:!0,value:Ms(null)});var zs,Us,Vs,Ws=function(t){Hs[Fs][t]=!0},Ks={},$s=!b((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Ys=Zt,Gs=et,Js=Jt,Xs=$s,Qs=An('IE_PROTO'),Zs=Object,ta=Zs.prototype,ea=Xs?Zs.getPrototypeOf:function(t){var e=Js(t);if(Ys(e,Qs))return e[Qs];var n=e.constructor;return Gs(n)&&e instanceof n?n.prototype:e instanceof Zs?ta:null},na=b,ra=et,ia=it,oa=ea,sa=lr,aa=de('iterator'),ca=!1;[].keys&&('next'in(Vs=[].keys())?(Us=oa(oa(Vs)))!==Object.prototype&&(zs=Us):ca=!0);var ua=!ia(zs)||na((function(){var t={};return zs[aa].call(t)!==t}));ua&&(zs={}),ra(zs[aa])||sa(zs,aa,(function(){return this}));var la={IteratorPrototype:zs,BUGGY_SAFARI_ITERATORS:ca},ha=Fe.f,fa=Zt,pa=de('toStringTag'),da=function(t,e,n){t&&!n&&(t=t.prototype),t&&!fa(t,pa)&&ha(t,pa,{configurable:!0,value:e})},va=la.IteratorPrototype,ga=Is,ya=j,ba=da,ma=Ks,wa=function(){return this},Ea=N,ka=Pt,Sa=et,Oa=String,xa=TypeError,Ca=function(t,e,n){try{return Ea(ka(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},Aa=We,_a=function(t){if('object'==typeof t||Sa(t))return t;throw xa('Can\'t set '+Oa(t)+' as a prototype')},Ta=Object.setPrototypeOf||('__proto__'in{}?function(){var t,e=!1,n={};try{(t=Ca(Object.prototype,'__proto__','set'))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return Aa(n),_a(r),e?t(n,r):n.__proto__=r,n}}():void 0),ja=fi,La=S,Pa=et,Ra=function(t,e,n,r){var i=e+' Iterator';return t.prototype=ga(va,{next:ya(+!r,n)}),ba(t,i,!1),ma[i]=wa,t},Ba=ea,Na=Ta,Ia=da,Da=sn,Ma=lr,qa=Ks,Fa=pn.PROPER,Ha=pn.CONFIGURABLE,za=la.IteratorPrototype,Ua=la.BUGGY_SAFARI_ITERATORS,Va=de('iterator'),Wa='keys',Ka='values',$a='entries',Ya=function(){return this},Ga=function(t,e,n,r,i,o,s){Ra(n,e,r);var a,c,u,l=function(t){if(t===i&&v)return v;if(!Ua&&t in p)return p[t];switch(t){case Wa:case Ka:case $a:return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+' Iterator',f=!1,p=t.prototype,d=p[Va]||p['@@iterator']||i&&p[i],v=!Ua&&d||l(i),g='Array'==e&&p.entries||d;if(g&&(a=Ba(g.call(new t)))!==Object.prototype&&a.next&&(Ba(a)!==za&&(Na?Na(a,za):Pa(a[Va])||Ma(a,Va,Ya)),Ia(a,h,!0)),Fa&&i==Ka&&d&&d.name!==Ka&&(Ha?Da(p,'name',Ka):(f=!0,v=function(){return La(d,this)})),i)if(c={values:l(Ka),keys:o?v:l(Wa),entries:l($a)},s)for(u in c)(Ua||f||!(u in p))&&Ma(p,u,c[u]);else ja({target:e,proto:!0,forced:Ua||f},c);return p[Va]!==v&&Ma(p,Va,v,{name:i}),qa[e]=v,c},Ja=function(t,e){return{value:t,done:e}},Xa=X,Qa=Ws,Za=Ks,tc=zn,ec=Fe.f,nc=Ga,rc=Ja,ic=m,oc='Array Iterator',sc=tc.set,ac=tc.getterFor(oc),cc=nc(Array,'Array',(function(t,e){sc(this,{type:oc,target:Xa(t),index:0,kind:e})}),(function(){var t=ac(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,rc(void 0,!0)):rc('keys'==n?r:'values'==n?e[r]:[r,e[r]],!1)}),'values'),uc=Za.Arguments=Za.Array;if(Qa('keys'),Qa('values'),Qa('entries'),ic&&'values'!==uc.name)try{ec(uc,'name',{value:'values'})}catch(t){}var lc=Fi,hc=String,fc=function(t){if('Symbol'===lc(t))throw TypeError('Cannot convert a Symbol value to a string');return hc(t)},pc=N,dc=vr,vc=fc,gc=Y,yc=pc(''.charAt),bc=pc(''.charCodeAt),mc=pc(''.slice),wc=function(t){return function(e,n){var r,i,o=vc(gc(e)),s=dc(n),a=o.length;return s<0||s>=a?t?'':void 0:(r=bc(o,s))<55296||r>56319||s+1===a||(i=bc(o,s+1))<56320||i>57343?t?yc(o,s):r:t?mc(o,s,s+2):i-56320+(r-55296<<10)+65536}},Ec={codeAt:wc(!1),charAt:wc(!0)},kc=Ec.charAt,Sc=fc,Oc=zn,xc=Ga,Cc=Ja,Ac='String Iterator',_c=Oc.set,Tc=Oc.getterFor(Ac);xc(String,'String',(function(t){_c(this,{type:Ac,string:Sc(t),index:0})}),(function(){var t,e=Tc(this),n=e.string,r=e.index;return r>=n.length?Cc(void 0,!0):(t=kc(n,r),e.index+=t.length,Cc(t,!1))}));var jc=!b((function(){return Object.isExtensible(Object.preventExtensions({}))})),Lc=lr,Pc=function(t,e,n){for(var r in e)Lc(t,r,e[r],n);return t},Rc={exports:{}},Bc={},Nc=mr,Ic=Or,Dc=ho,Mc=Array,qc=Math.max,Fc=function(t,e,n){for(var r=Ic(t),i=Nc(e,r),o=Nc(void 0===n?r:n,r),s=Mc(qc(o-i,0)),a=0;i<o;i++,a++)Dc(s,a,t[i]);return s.length=a,s},Hc=q,zc=X,Uc=hr.f,Vc=Fc,Wc='object'==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Bc.f=function(t){return Wc&&'Window'==Hc(t)?function(t){try{return Uc(t)}catch(t){return Vc(Wc)}}(t):Uc(zc(t))};var Kc=b((function(){if('function'==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,'a',{value:8})}})),$c=b,Yc=it,Gc=q,Jc=Kc,Xc=Object.isExtensible,Qc=$c((function(){Xc(1)}))||Jc?function(t){return!!Yc(t)&&((!Jc||'ArrayBuffer'!=Gc(t))&&(!Xc||Xc(t)))}:Xc,Zc=fi,tu=N,eu=_n,nu=it,ru=Zt,iu=Fe.f,ou=hr,su=Bc,au=Qc,cu=jc,uu=!1,lu=ie('meta'),hu=0,fu=function(t){iu(t,lu,{value:{objectID:'O'+hu++,weakData:{}}})},pu=Rc.exports={enable:function(){pu.enable=function(){},uu=!0;var t=ou.f,e=tu([].splice),n={};n[lu]=1,t(n).length&&(ou.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===lu){e(r,i,1);break}return r},Zc({target:'Object',stat:!0,forced:!0},{getOwnPropertyNames:su.f}))},fastKey:function(t,e){if(!nu(t))return'symbol'==typeof t?t:('string'==typeof t?'S':'P')+t;if(!ru(t,lu)){if(!au(t))return'F';if(!e)return'E';fu(t)}return t[lu].objectID},getWeakData:function(t,e){if(!ru(t,lu)){if(!au(t))return!0;if(!e)return!1;fu(t)}return t[lu].weakData},onFreeze:function(t){return cu&&uu&&au(t)&&!ru(t,lu)&&fu(t),t}};eu[lu]=!0;var du=Ks,vu=de('iterator'),gu=Array.prototype,yu=function(t){return void 0!==t&&(du.Array===t||gu[vu]===t)},bu=Fi,mu=Nt,wu=W,Eu=Ks,ku=de('iterator'),Su=function(t){if(!wu(t))return mu(t,ku)||mu(t,'@@iterator')||Eu[bu(t)]},Ou=S,xu=Pt,Cu=We,Au=_t,_u=Su,Tu=TypeError,ju=function(t,e){var n=arguments.length<2?_u(t):e;if(xu(n))return Cu(Ou(n,t));throw Tu(Au(t)+' is not iterable')},Lu=S,Pu=We,Ru=Nt,Bu=function(t,e,n){var r,i;Pu(t);try{if(!(r=Ru(t,'return'))){if('throw'===e)throw n;return n}r=Lu(r,t)}catch(t){i=!0,r=t}if('throw'===e)throw n;if(i)throw r;return Pu(r),n},Nu=zo,Iu=S,Du=We,Mu=_t,qu=yu,Fu=Or,Hu=ut,zu=ju,Uu=Su,Vu=Bu,Wu=TypeError,Ku=function(t,e){this.stopped=t,this.result=e},$u=Ku.prototype,Yu=function(t,e,n){var r,i,o,s,a,c,u,l=n&&n.that,h=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),v=Nu(e,l),g=function(t){return r&&Vu(r,'normal',t),new Ku(!0,t)},y=function(t){return h?(Du(t),d?v(t[0],t[1],g):v(t[0],t[1])):d?v(t,g):v(t)};if(f)r=t.iterator;else if(p)r=t;else{if(!(i=Uu(t)))throw Wu(Mu(t)+' is not iterable');if(qu(i)){for(o=0,s=Fu(t);s>o;o++)if((a=y(t[o]))&&Hu($u,a))return a;return new Ku(!1)}r=zu(t,i)}for(c=f?t.next:r.next;!(u=Iu(c,r)).done;){try{a=y(u.value)}catch(t){Vu(r,'throw',t)}if('object'==typeof a&&a&&Hu($u,a))return a}return new Ku(!1)},Gu=ut,Ju=TypeError,Xu=function(t,e){if(Gu(e,t))return t;throw Ju('Incorrect invocation')},Qu=de('iterator'),Zu=!1;try{var tl=0,el={next:function(){return{done:!!tl++}},return:function(){Zu=!0}};el[Qu]=function(){return this},Array.from(el,(function(){throw 2}))}catch(t){}var nl=function(t,e){if(!e&&!Zu)return!1;var n=!1;try{var r={};r[Qu]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},rl=et,il=it,ol=Ta,sl=fi,al=g,cl=N,ul=ii,ll=lr,hl=Rc.exports,fl=Yu,pl=Xu,dl=et,vl=W,gl=it,yl=b,bl=nl,ml=da,wl=function(t,e,n){var r,i;return ol&&rl(r=e.constructor)&&r!==n&&il(i=r.prototype)&&i!==n.prototype&&ol(t,i),t},El=N,kl=Pc,Sl=Rc.exports.getWeakData,Ol=Xu,xl=We,Cl=W,Al=it,_l=Yu,Tl=Zt,jl=zn.set,Ll=zn.getterFor,Pl=Jo.find,Rl=Jo.findIndex,Bl=El([].splice),Nl=0,Il=function(t){return t.frozen||(t.frozen=new Dl)},Dl=function(){this.entries=[]},Ml=function(t,e){return Pl(t.entries,(function(t){return t[0]===e}))};Dl.prototype={get:function(t){var e=Ml(this,t);if(e)return e[1]},has:function(t){return!!Ml(this,t)},set:function(t,e){var n=Ml(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=Rl(this.entries,(function(e){return e[0]===t}));return~e&&Bl(this.entries,e,1),!!~e}};var ql,Fl={getConstructor:function(t,e,n,r){var i=t((function(t,i){Ol(t,o),jl(t,{type:e,id:Nl++,frozen:void 0}),Cl(i)||_l(i,t[r],{that:t,AS_ENTRIES:n})})),o=i.prototype,s=Ll(e),a=function(t,e,n){var r=s(t),i=Sl(xl(e),!0);return!0===i?Il(r).set(e,n):i[r.id]=n,t};return kl(o,{delete:function(t){var e=s(this);if(!Al(t))return!1;var n=Sl(t);return!0===n?Il(e).delete(t):n&&Tl(n,e.id)&&delete n[e.id]},has:function(t){var e=s(this);if(!Al(t))return!1;var n=Sl(t);return!0===n?Il(e).has(t):n&&Tl(n,e.id)}}),kl(o,n?{get:function(t){var e=s(this);if(Al(t)){var n=Sl(t);return!0===n?Il(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return a(this,t,e)}}:{add:function(t){return a(this,t,!0)}}),i}},Hl=jc,zl=g,Ul=N,Vl=Pc,Wl=Rc.exports,Kl=function(t,e,n){var r=-1!==t.indexOf('Map'),i=-1!==t.indexOf('Weak'),o=r?'set':'add',s=al[t],a=s&&s.prototype,c=s,u={},l=function(t){var e=cl(a[t]);ll(a,t,'add'==t?function(t){return e(this,0===t?0:t),this}:'delete'==t?function(t){return!(i&&!gl(t))&&e(this,0===t?0:t)}:'get'==t?function(t){return i&&!gl(t)?void 0:e(this,0===t?0:t)}:'has'==t?function(t){return!(i&&!gl(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(ul(t,!dl(s)||!(i||a.forEach&&!yl((function(){(new s).entries().next()})))))c=n.getConstructor(e,t,r,o),hl.enable();else if(ul(t,!0)){var h=new c,f=h[o](i?{}:-0,1)!=h,p=yl((function(){h.has(1)})),d=bl((function(t){new s(t)})),v=!i&&yl((function(){for(var t=new s,e=5;e--;)t[o](e,e);return!t.has(-0)}));d||((c=e((function(t,e){pl(t,a);var n=wl(new s,t,c);return vl(e)||fl(e,n[o],{that:n,AS_ENTRIES:r}),n}))).prototype=a,a.constructor=c),(p||v)&&(l('delete'),l('has'),r&&l('get')),(v||f)&&l(o),i&&a.clear&&delete a.clear}return u[t]=c,sl({global:!0,constructor:!0,forced:c!=s},u),ml(c,t),i||n.setStrong(c,t,r),c},$l=Fl,Yl=it,Gl=zn.enforce,Jl=b,Xl=Sn,Ql=Object,Zl=Array.isArray,th=Ql.isExtensible,eh=Ql.isFrozen,nh=Ql.isSealed,rh=Ql.freeze,ih=Ql.seal,oh={},sh={},ah=!zl.ActiveXObject&&'ActiveXObject'in zl,ch=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},uh=Kl('WeakMap',ch,$l),lh=uh.prototype,hh=Ul(lh.set);if(Xl)if(ah){ql=$l.getConstructor(ch,'WeakMap',!0),Wl.enable();var fh=Ul(lh.delete),ph=Ul(lh.has),dh=Ul(lh.get);Vl(lh,{delete:function(t){if(Yl(t)&&!th(t)){var e=Gl(this);return e.frozen||(e.frozen=new ql),fh(this,t)||e.frozen.delete(t)}return fh(this,t)},has:function(t){if(Yl(t)&&!th(t)){var e=Gl(this);return e.frozen||(e.frozen=new ql),ph(this,t)||e.frozen.has(t)}return ph(this,t)},get:function(t){if(Yl(t)&&!th(t)){var e=Gl(this);return e.frozen||(e.frozen=new ql),ph(this,t)?dh(this,t):e.frozen.get(t)}return dh(this,t)},set:function(t,e){if(Yl(t)&&!th(t)){var n=Gl(this);n.frozen||(n.frozen=new ql),ph(this,t)?hh(this,t,e):n.frozen.set(t,e)}else hh(this,t,e);return this}})}else Hl&&Jl((function(){var t=rh([]);return hh(new uh,t,1),!eh(t)}))&&Vl(lh,{set:function(t,e){var n;return Zl(t)&&(eh(t)?n=oh:nh(t)&&(n=sh)),hh(this,t,e),n==oh&&rh(t),n==sh&&ih(t),this}});var vh=g,gh=No,yh=Mo,bh=cc,mh=sn,wh=de,Eh=wh('iterator'),kh=wh('toStringTag'),Sh=bh.values,Oh=function(t,e){if(t){if(t[Eh]!==Sh)try{mh(t,Eh,Sh)}catch(e){t[Eh]=Sh}if(t[kh]||mh(t,kh,e),gh[e])for(var n in bh)if(t[n]!==bh[n])try{mh(t,n,bh[n])}catch(e){t[n]=bh[n]}}};for(var xh in gh)Oh(vh[xh]&&vh[xh].prototype,xh);Oh(yh,'DOMTokenList');var Ch=Pt,Ah=Jt,_h=V,Th=Or,jh=TypeError,Lh=function(t){return function(e,n,r,i){Ch(n);var o=Ah(e),s=_h(o),a=Th(o),c=t?a-1:0,u=t?-1:1;if(r<2)for(;;){if(c in s){i=s[c],c+=u;break}if(c+=u,t?c<0:a<=c)throw jh('Reduce of empty array with no initial value')}for(;t?c>=0:a>c;c+=u)c in s&&(i=n(i,s[c],c,o));return i}},Ph={left:Lh(!1),right:Lh(!0)},Rh='undefined'!=typeof process&&'process'==q(process),Bh=Ph.left;fi({target:'Array',proto:!0,forced:!Rh&&yt>79&&yt<83||!yi('reduce')},{reduce:function(t){var e=arguments.length;return Bh(this,t,e,e>1?arguments[1]:void 0)}});var Nh,Ih,Dh=We,Mh=b,qh=g.RegExp,Fh=Mh((function(){var t=qh('a','y');return t.lastIndex=2,null!=t.exec('abcd')})),Hh=Fh||Mh((function(){return!qh('a','y').sticky})),zh=Fh||Mh((function(){var t=qh('^r','gy');return t.lastIndex=2,null!=t.exec('str')})),Uh={BROKEN_CARET:zh,MISSED_STICKY:Hh,UNSUPPORTED_Y:Fh},Vh=b,Wh=g.RegExp,Kh=Vh((function(){var t=Wh('.','s');return!(t.dotAll&&t.exec('\n')&&'s'===t.flags)})),$h=b,Yh=g.RegExp,Gh=$h((function(){var t=Yh('(?<a>b)','g');return'b'!==t.exec('b').groups.a||'bc'!=='b'.replace(t,'$<a>c')})),Jh=S,Xh=N,Qh=fc,Zh=function(){var t=Dh(this),e='';return t.hasIndices&&(e+='d'),t.global&&(e+='g'),t.ignoreCase&&(e+='i'),t.multiline&&(e+='m'),t.dotAll&&(e+='s'),t.unicode&&(e+='u'),t.unicodeSets&&(e+='v'),t.sticky&&(e+='y'),e},tf=Uh,ef=Ft.exports,nf=Is,rf=zn.get,of=Kh,sf=Gh,af=ef('native-string-replace',String.prototype.replace),cf=RegExp.prototype.exec,uf=cf,lf=Xh(''.charAt),hf=Xh(''.indexOf),ff=Xh(''.replace),pf=Xh(''.slice),df=(Ih=/b*/g,Jh(cf,Nh=/a/,'a'),Jh(cf,Ih,'a'),0!==Nh.lastIndex||0!==Ih.lastIndex),vf=tf.BROKEN_CARET,gf=void 0!==/()??/.exec('')[1];(df||gf||vf||of||sf)&&(uf=function(t){var e,n,r,i,o,s,a,c=this,u=rf(c),l=Qh(t),h=u.raw;if(h)return h.lastIndex=c.lastIndex,e=Jh(uf,h,l),c.lastIndex=h.lastIndex,e;var f=u.groups,p=vf&&c.sticky,d=Jh(Zh,c),v=c.source,g=0,y=l;if(p&&(d=ff(d,'y',''),-1===hf(d,'g')&&(d+='g'),y=pf(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&'\n'!==lf(l,c.lastIndex-1))&&(v='(?: '+v+')',y=' '+y,g++),n=new RegExp('^(?:'+v+')',d)),gf&&(n=new RegExp('^'+v+'$(?!\\s)',d)),df&&(r=c.lastIndex),i=Jh(cf,p?n:c,y),p?i?(i.input=pf(i.input,g),i[0]=pf(i[0],g),i.index=c.lastIndex,c.lastIndex+=i[0].length):c.lastIndex=0:df&&i&&(c.lastIndex=c.global?i.index+i[0].length:r),gf&&i&&i.length>1&&Jh(af,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&f)for(i.groups=s=nf(null),o=0;o<f.length;o++)s[(a=f[o])[0]]=i[a[1]];return i});var yf=uf;fi({target:'RegExp',proto:!0,forced:/./.exec!==yf},{exec:yf});var bf=w,mf=Function.prototype,wf=mf.apply,Ef=mf.call,kf='object'==typeof Reflect&&Reflect.apply||(bf?Ef.bind(wf):function(){return Ef.apply(wf,arguments)}),Sf=vi,Of=lr,xf=yf,Cf=b,Af=de,_f=sn,Tf=Af('species'),jf=RegExp.prototype,Lf=Ec.charAt,Pf=N,Rf=Jt,Bf=Math.floor,Nf=Pf(''.charAt),If=Pf(''.replace),Df=Pf(''.slice),Mf=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,qf=/\$([$&'`]|\d{1,2})/g,Ff=S,Hf=We,zf=et,Uf=q,Vf=yf,Wf=TypeError,Kf=kf,$f=S,Yf=N,Gf=function(t,e,n,r){var i=Af(t),o=!Cf((function(){var e={};return e[i]=function(){return 7},7!=''[t](e)})),s=o&&!Cf((function(){var e=!1,n=/a/;return'split'===t&&((n={}).constructor={},n.constructor[Tf]=function(){return n},n.flags='',n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](''),!e}));if(!o||!s||n){var a=Sf(/./[i]),c=e(i,''[t],(function(t,e,n,r,i){var s=Sf(t),c=e.exec;return c===xf||c===jf.exec?o&&!i?{done:!0,value:a(e,n,r)}:{done:!0,value:s(n,e,r)}:{done:!1}}));Of(String.prototype,t,c[0]),Of(jf,i,c[1])}r&&_f(jf[i],'sham',!0)},Jf=b,Xf=We,Qf=et,Zf=W,tp=vr,ep=kr,np=fc,rp=Y,ip=function(t,e,n){return e+(n?Lf(t,e).length:1)},op=Nt,sp=function(t,e,n,r,i,o){var s=n+t.length,a=r.length,c=qf;return void 0!==i&&(i=Rf(i),c=Mf),If(o,c,(function(o,c){var u;switch(Nf(c,0)){case'$':return'$';case'&':return t;case'`':return Df(e,0,n);case'\'':return Df(e,s);case'<':u=i[Df(c,1,-1)];break;default:var l=+c;if(0===l)return o;if(l>a){var h=Bf(l/10);return 0===h?o:h<=a?void 0===r[h-1]?Nf(c,1):r[h-1]+Nf(c,1):o}u=r[l-1]}return void 0===u?'':u}))},ap=function(t,e){var n=t.exec;if(zf(n)){var r=Ff(n,t,e);return null!==r&&Hf(r),r}if('RegExp'===Uf(t))return Ff(Vf,t,e);throw Wf('RegExp#exec called on incompatible receiver')},cp=de('replace'),up=Math.max,lp=Math.min,hp=Yf([].concat),fp=Yf([].push),pp=Yf(''.indexOf),dp=Yf(''.slice),vp='$0'==='a'.replace(/./,'$0'),gp=!!/./[cp]&&''===/./[cp]('a','$0'),yp=!Jf((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:'7'},t},'7'!==''.replace(t,'$<a>')}));Gf('replace',(function(t,e,n){var r=gp?'$':'$0';return[function(t,n){var r=rp(this),i=Zf(t)?void 0:op(t,cp);return i?$f(i,t,r,n):$f(e,np(r),t,n)},function(t,i){var o=Xf(this),s=np(t);if('string'==typeof i&&-1===pp(i,r)&&-1===pp(i,'$<')){var a=n(e,o,s,i);if(a.done)return a.value}var c=Qf(i);c||(i=np(i));var u=o.global;if(u){var l=o.unicode;o.lastIndex=0}for(var h=[];;){var f=ap(o,s);if(null===f)break;if(fp(h,f),!u)break;''===np(f[0])&&(o.lastIndex=ip(s,ep(o.lastIndex),l))}for(var p,d='',v=0,g=0;g<h.length;g++){for(var y=np((f=h[g])[0]),b=up(lp(tp(f.index),s.length),0),m=[],w=1;w<f.length;w++)fp(m,void 0===(p=f[w])?p:String(p));var E=f.groups;if(c){var k=hp([y],m,b,s);void 0!==E&&fp(k,E);var S=np(Kf(i,void 0,k))}else S=sp(y,s,b,m,E,i);b>=v&&(d+=dp(s,v,b)+S,v=b+y.length)}return d+dp(s,v)}]}),!yp||!vp||gp);var bp=Jo.map;fi({target:'Array',proto:!0,forced:!mo('map')},{map:function(t){return bp(this,t,arguments.length>1?arguments[1]:void 0)}});var mp=fi,wp=b,Ep=X,kp=y.f,Sp=m;mp({target:'Object',stat:!0,forced:!Sp||wp((function(){kp(1)})),sham:!Sp},{getOwnPropertyDescriptor:function(t,e){return kp(Ep(t),e)}});var Op=function(t){var e=document.createElement(t),n={appendTo:function(t){return t.appendChild(e)&&n},withAttribute:function(t,r){return e.setAttribute(t,r)||n},withProperties:function(t){return Object.keys(t).map((function(n){return e.setAttribute(n,t[n])}))&&n},unwrap:function(){return e}};return n};const xp=Object.create(null);xp.open='0',xp.close='1',xp.ping='2',xp.pong='3',xp.message='4',xp.upgrade='5',xp.noop='6';const Cp=Object.create(null);Object.keys(xp).forEach((t=>{Cp[xp[t]]=t}));const Ap={type:'error',data:'parser error'},_p='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===Object.prototype.toString.call(Blob),Tp='function'==typeof ArrayBuffer,jp=({type:t,data:e},n,r)=>{return _p&&e instanceof Blob?n?r(e):Lp(e,r):Tp&&(e instanceof ArrayBuffer||(i=e,'function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?n?r(e):Lp(new Blob([e]),r):r(xp[t]+(e||''));var i},Lp=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(',')[1];e('b'+(t||''))},n.readAsDataURL(t)},Pp='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',Rp='undefined'==typeof Uint8Array?[]:new Uint8Array(256);for(let t=0;t<Pp.length;t++)Rp[Pp.charCodeAt(t)]=t;const Bp='function'==typeof ArrayBuffer,Np=(t,e)=>{if('string'!=typeof t)return{type:'message',data:Dp(t,e)};const n=t.charAt(0);if('b'===n)return{type:'message',data:Ip(t.substring(1),e)};return Cp[n]?t.length>1?{type:Cp[n],data:t.substring(1)}:{type:Cp[n]}:Ap},Ip=(t,e)=>{if(Bp){const n=(t=>{let e,n,r,i,o,s=.75*t.length,a=t.length,c=0;'='===t[t.length-1]&&(s--,'='===t[t.length-2]&&s--);const u=new ArrayBuffer(s),l=new Uint8Array(u);for(e=0;e<a;e+=4)n=Rp[t.charCodeAt(e)],r=Rp[t.charCodeAt(e+1)],i=Rp[t.charCodeAt(e+2)],o=Rp[t.charCodeAt(e+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u})(t);return Dp(n,e)}return{base64:!0,data:t}},Dp=(t,e)=>'blob'===e&&t instanceof ArrayBuffer?new Blob([t]):t,Mp=String.fromCharCode(30);function qp(t){if(t)return function(t){for(var e in qp.prototype)t[e]=qp.prototype[e];return t}(t)}qp.prototype.on=qp.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks['$'+t]=this._callbacks['$'+t]||[]).push(e),this},qp.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},qp.prototype.off=qp.prototype.removeListener=qp.prototype.removeAllListeners=qp.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks['$'+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks['$'+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks['$'+t],this},qp.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks['$'+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},qp.prototype.emitReserved=qp.prototype.emit,qp.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks['$'+t]||[]},qp.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Fp='undefined'!=typeof self?self:'undefined'!=typeof window?window:Function('return this')();function Hp(t,...e){return e.reduce(((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e)),{})}const zp=Fp.setTimeout,Up=Fp.clearTimeout;function Vp(t,e){e.useNativeTimers?(t.setTimeoutFn=zp.bind(Fp),t.clearTimeoutFn=Up.bind(Fp)):(t.setTimeoutFn=Fp.setTimeout.bind(Fp),t.clearTimeoutFn=Fp.clearTimeout.bind(Fp))}const Wp=1.33;class Kp extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type='TransportError'}}class $p extends qp{constructor(t){super(),this.writable=!1,Vp(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,e,n){return super.emitReserved('error',new Kp(t,e,n)),this}open(){return this.readyState='opening',this.doOpen(),this}close(){return'opening'!==this.readyState&&'open'!==this.readyState||(this.doClose(),this.onClose()),this}send(t){'open'===this.readyState&&this.write(t)}onOpen(){this.readyState='open',this.writable=!0,super.emitReserved('open')}onData(t){const e=Np(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved('packet',t)}onClose(t){this.readyState='closed',super.emitReserved('close',t)}pause(t){}}const Yp='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''),Gp=64,Jp={};let Xp,Qp=0,Zp=0;function td(t){let e='';do{e=Yp[t%Gp]+e,t=Math.floor(t/Gp)}while(t>0);return e}function ed(){const t=td(+new Date);return t!==Xp?(Qp=0,Xp=t):t+'.'+td(Qp++)}for(;Zp<Gp;Zp++)Jp[Yp[Zp]]=Zp;function nd(t){let e='';for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+='&'),e+=encodeURIComponent(n)+'='+encodeURIComponent(t[n]));return e}let rd=!1;try{rd='undefined'!=typeof XMLHttpRequest&&'withCredentials'in new XMLHttpRequest}catch(t){}const id=rd;function od(t){const e=t.xdomain;try{if('undefined'!=typeof XMLHttpRequest&&(!e||id))return new XMLHttpRequest}catch(t){}if(!e)try{return new(Fp[['Active'].concat('Object').join('X')])('Microsoft.XMLHTTP')}catch(t){}}function sd(){}const ad=null!=new od({xdomain:!1}).responseType;class cd extends qp{constructor(t,e){super(),Vp(this,e),this.opts=e,this.method=e.method||'GET',this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=Hp(this.opts,'agent','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','autoUnref');t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new od(t);try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(t){}if('POST'===this.method)try{e.setRequestHeader('Content-type','text/plain;charset=UTF-8')}catch(t){}try{e.setRequestHeader('Accept','*/*')}catch(t){}'withCredentials'in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn((()=>{this.onError('number'==typeof e.status?e.status:0)}),0))},e.send(this.data)}catch(t){return void this.setTimeoutFn((()=>{this.onError(t)}),0)}'undefined'!=typeof document&&(this.index=cd.requestsCount++,cd.requests[this.index]=this)}onError(t){this.emitReserved('error',t,this.xhr),this.cleanup(!0)}cleanup(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=sd,t)try{this.xhr.abort()}catch(t){}'undefined'!=typeof document&&delete cd.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved('data',t),this.emitReserved('success'),this.cleanup())}abort(){this.cleanup()}}if(cd.requestsCount=0,cd.requests={},'undefined'!=typeof document)if('function'==typeof attachEvent)attachEvent('onunload',ud);else if('function'==typeof addEventListener){addEventListener('onpagehide'in Fp?'pagehide':'unload',ud,!1)}function ud(){for(let t in cd.requests)cd.requests.hasOwnProperty(t)&&cd.requests[t].abort()}const ld='function'==typeof Promise&&'function'==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),hd=Fp.WebSocket||Fp.MozWebSocket,fd='undefined'!=typeof navigator&&'string'==typeof navigator.product&&'reactnative'===navigator.product.toLowerCase();const pd={websocket:class extends $p{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return'websocket'}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=fd?{}:Hp(this.opts,'agent','perMessageDeflate','pfx','key','passphrase','cert','ca','ciphers','rejectUnauthorized','localAddress','protocolVersion','origin','maxPayload','family','checkServerIdentity');this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=fd?new hd(t,e,n):e?new hd(t,e):new hd(t)}catch(t){return this.emitReserved('error',t)}this.ws.binaryType=this.socket.binaryType||'arraybuffer',this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:'websocket connection closed',context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError('websocket error',t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=t[e],r=e===t.length-1;jp(n,this.supportsBinary,(t=>{try{this.ws.send(t)}catch(t){}r&&ld((()=>{this.writable=!0,this.emitReserved('drain')}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?'wss':'ws';let n='';this.opts.port&&('wss'===e&&443!==Number(this.opts.port)||'ws'===e&&80!==Number(this.opts.port))&&(n=':'+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=ed()),this.supportsBinary||(t.b64=1);const r=nd(t);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+n+this.opts.path+(r.length?'?'+r:'')}check(){return!!hd}},polling:class extends $p{constructor(t){if(super(t),this.polling=!1,'undefined'!=typeof location){const e='https:'===location.protocol;let n=location.port;n||(n=e?'443':'80'),this.xd='undefined'!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}const e=t&&t.forceBase64;this.supportsBinary=ad&&!e}get name(){return'polling'}doOpen(){this.poll()}pause(t){this.readyState='pausing';const e=()=>{this.readyState='paused',t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once('pollComplete',(function(){--t||e()}))),this.writable||(t++,this.once('drain',(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved('poll')}onData(t){((t,e)=>{const n=t.split(Mp),r=[];for(let t=0;t<n.length;t++){const i=Np(n[t],e);if(r.push(i),'error'===i.type)break}return r})(t,this.socket.binaryType).forEach((t=>{if('opening'===this.readyState&&'open'===t.type&&this.onOpen(),'close'===t.type)return this.onClose({description:'transport closed by the server'}),!1;this.onPacket(t)})),'closed'!==this.readyState&&(this.polling=!1,this.emitReserved('pollComplete'),'open'===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:'close'}])};'open'===this.readyState?t():this.once('open',t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach(((t,o)=>{jp(t,!1,(t=>{r[o]=t,++i===n&&e(r.join(Mp))}))}))})(t,(t=>{this.doWrite(t,(()=>{this.writable=!0,this.emitReserved('drain')}))}))}uri(){let t=this.query||{};const e=this.opts.secure?'https':'http';let n='';!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ed()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&('https'===e&&443!==Number(this.opts.port)||'http'===e&&80!==Number(this.opts.port))&&(n=':'+this.opts.port);const r=nd(t);return e+'://'+(-1!==this.opts.hostname.indexOf(':')?'['+this.opts.hostname+']':this.opts.hostname)+n+this.opts.path+(r.length?'?'+r:'')}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new cd(this.uri(),t)}doWrite(t,e){const n=this.request({method:'POST',data:t});n.on('success',e),n.on('error',((t,e)=>{this.onError('xhr post error',t,e)}))}doPoll(){const t=this.request();t.on('data',this.onData.bind(this)),t.on('error',((t,e)=>{this.onError('xhr poll error',t,e)})),this.pollXhr=t}}},dd=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vd=['source','protocol','authority','userInfo','user','password','host','port','relative','path','directory','file','query','anchor'];function gd(t){const e=t,n=t.indexOf('['),r=t.indexOf(']');-1!=n&&-1!=r&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,';')+t.substring(r,t.length));let i=dd.exec(t||''),o={},s=14;for(;s--;)o[vd[s]]=i[s]||'';return-1!=n&&-1!=r&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,':'),o.authority=o.authority.replace('[','').replace(']','').replace(/;/g,':'),o.ipv6uri=!0),o.pathNames=function(t,e){const n=/\/{2,9}/g,r=e.replace(n,'/').split('/');'/'!=e.slice(0,1)&&0!==e.length||r.splice(0,1);'/'==e.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,r){e&&(n[e]=r)})),n}(0,o.query),o}class yd extends qp{constructor(t,e={}){super(),this.writeBuffer=[],t&&'object'==typeof t&&(e=t,t=null),t?(t=gd(t),e.hostname=t.host,e.secure='https'===t.protocol||'wss'===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=gd(e.host).host),Vp(this,e),this.secure=null!=e.secure?e.secure:'undefined'!=typeof location&&'https:'===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?'443':'80'),this.hostname=e.hostname||('undefined'!=typeof location?location.hostname:'localhost'),this.port=e.port||('undefined'!=typeof location&&location.port?location.port:this.secure?'443':'80'),this.transports=e.transports||['polling','websocket'],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:'/engine.io',agent:!1,withCredentials:!1,upgrade:!0,timestampParam:'t',rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,'')+(this.opts.addTrailingSlash?'/':''),'string'==typeof this.opts.query&&(this.opts.query=function(t){let e={},n=t.split('&');for(let t=0,r=n.length;t<r;t++){let r=n[t].split('=');e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,'function'==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener('beforeunload',this.beforeunloadEventListener,!1)),'localhost'!==this.hostname&&(this.offlineEventListener=()=>{this.onClose('transport close',{description:'network connection lost'})},addEventListener('offline',this.offlineEventListener,!1))),this.open()}createTransport(t){const e=Object.assign({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new pd[t](n)}open(){let t;if(this.opts.rememberUpgrade&&yd.priorWebsocketSuccess&&-1!==this.transports.indexOf('websocket'))t='websocket';else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved('error','No transports available')}),0);t=this.transports[0]}this.readyState='opening';try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on('drain',this.onDrain.bind(this)).on('packet',this.onPacket.bind(this)).on('error',this.onError.bind(this)).on('close',(t=>this.onClose('transport close',t)))}probe(t){let e=this.createTransport(t),n=!1;yd.priorWebsocketSuccess=!1;const r=()=>{n||(e.send([{type:'ping',data:'probe'}]),e.once('packet',(t=>{if(!n)if('pong'===t.type&&'probe'===t.data){if(this.upgrading=!0,this.emitReserved('upgrading',e),!e)return;yd.priorWebsocketSuccess='websocket'===e.name,this.transport.pause((()=>{n||'closed'!==this.readyState&&(u(),this.setTransport(e),e.send([{type:'upgrade'}]),this.emitReserved('upgrade',e),e=null,this.upgrading=!1,this.flush())}))}else{const t=new Error('probe error');t.transport=e.name,this.emitReserved('upgradeError',t)}})))};function i(){n||(n=!0,u(),e.close(),e=null)}const o=t=>{const n=new Error('probe error: '+t);n.transport=e.name,i(),this.emitReserved('upgradeError',n)};function s(){o('transport closed')}function a(){o('socket closed')}function c(t){e&&t.name!==e.name&&i()}const u=()=>{e.removeListener('open',r),e.removeListener('error',o),e.removeListener('close',s),this.off('close',a),this.off('upgrading',c)};e.once('open',r),e.once('error',o),e.once('close',s),this.once('close',a),this.once('upgrading',c),e.open()}onOpen(){if(this.readyState='open',yd.priorWebsocketSuccess='websocket'===this.transport.name,this.emitReserved('open'),this.flush(),'open'===this.readyState&&this.opts.upgrade){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if('opening'===this.readyState||'open'===this.readyState||'closing'===this.readyState)switch(this.emitReserved('packet',t),this.emitReserved('heartbeat'),t.type){case'open':this.onHandshake(JSON.parse(t.data));break;case'ping':this.resetPingTimeout(),this.sendPacket('pong'),this.emitReserved('ping'),this.emitReserved('pong');break;case'error':const e=new Error('server error');e.code=t.data,this.onError(e);break;case'message':this.emitReserved('data',t.data),this.emitReserved('message',t.data)}}onHandshake(t){this.emitReserved('handshake',t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),'closed'!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose('ping timeout')}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved('drain'):this.flush()}flush(){if('closed'!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved('flush')}}getWritablePackets(){if(!(this.maxPayload&&'polling'===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(t+='string'==typeof(e=r)?function(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil((e.byteLength||e.size)*Wp)),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}var e;return this.writeBuffer}write(t,e,n){return this.sendPacket('message',t,e,n),this}send(t,e,n){return this.sendPacket('message',t,e,n),this}sendPacket(t,e,n,r){if('function'==typeof e&&(r=e,e=void 0),'function'==typeof n&&(r=n,n=null),'closing'===this.readyState||'closed'===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:t,data:e,options:n};this.emitReserved('packetCreate',i),this.writeBuffer.push(i),r&&this.once('flush',r),this.flush()}close(){const t=()=>{this.onClose('forced close'),this.transport.close()},e=()=>{this.off('upgrade',e),this.off('upgradeError',e),t()},n=()=>{this.once('upgrade',e),this.once('upgradeError',e)};return'opening'!==this.readyState&&'open'!==this.readyState||(this.readyState='closing',this.writeBuffer.length?this.once('drain',(()=>{this.upgrading?n():t()})):this.upgrading?n():t()),this}onError(t){yd.priorWebsocketSuccess=!1,this.emitReserved('error',t),this.onClose('transport error',t)}onClose(t,e){'opening'!==this.readyState&&'open'!==this.readyState&&'closing'!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners('close'),this.transport.close(),this.transport.removeAllListeners(),'function'==typeof removeEventListener&&(removeEventListener('beforeunload',this.beforeunloadEventListener,!1),removeEventListener('offline',this.offlineEventListener,!1)),this.readyState='closed',this.id=null,this.emitReserved('close',t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const r=t.length;for(;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}yd.protocol=4;const bd='function'==typeof ArrayBuffer,md=t=>'function'==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,wd=Object.prototype.toString,Ed='function'==typeof Blob||'undefined'!=typeof Blob&&'[object BlobConstructor]'===wd.call(Blob),kd='function'==typeof File||'undefined'!=typeof File&&'[object FileConstructor]'===wd.call(File);function Sd(t){return bd&&(t instanceof ArrayBuffer||md(t))||Ed&&t instanceof Blob||kd&&t instanceof File}function Od(t,e){if(!t||'object'!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(Od(t[e]))return!0;return!1}if(Sd(t))return!0;if(t.toJSON&&'function'==typeof t.toJSON&&1===arguments.length)return Od(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&Od(t[e]))return!0;return!1}function xd(t){const e=[],n=t.data,r=t;return r.data=Cd(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Cd(t,e){if(!t)return t;if(Sd(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Cd(t[r],e);return n}if('object'==typeof t&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Cd(t[r],e));return n}return t}function Ad(t,e){return t.data=_d(t.data,e),delete t.attachments,t}function _d(t,e){if(!t)return t;if(t&&!0===t._placeholder){if('number'==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error('illegal attachments')}if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=_d(t[n],e);else if('object'==typeof t)for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=_d(t[n],e));return t}var Td;!function(t){t[t.CONNECT=0]='CONNECT',t[t.DISCONNECT=1]='DISCONNECT',t[t.EVENT=2]='EVENT',t[t.ACK=3]='ACK',t[t.CONNECT_ERROR=4]='CONNECT_ERROR',t[t.BINARY_EVENT=5]='BINARY_EVENT',t[t.BINARY_ACK=6]='BINARY_ACK'}(Td||(Td={}));class jd extends qp{constructor(t){super(),this.reviver=t}add(t){let e;if('string'==typeof t){if(this.reconstructor)throw new Error('got plaintext data when reconstructing a packet');e=this.decodeString(t);const n=e.type===Td.BINARY_EVENT;n||e.type===Td.BINARY_ACK?(e.type=n?Td.EVENT:Td.ACK,this.reconstructor=new Ld(e),0===e.attachments&&super.emitReserved('decoded',e)):super.emitReserved('decoded',e)}else{if(!Sd(t)&&!t.base64)throw new Error('Unknown type: '+t);if(!this.reconstructor)throw new Error('got binary data when not reconstructing a packet');e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved('decoded',e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===Td[n.type])throw new Error('unknown packet type '+n.type);if(n.type===Td.BINARY_EVENT||n.type===Td.BINARY_ACK){const r=e+1;for(;'-'!==t.charAt(++e)&&e!=t.length;);const i=t.substring(r,e);if(i!=Number(i)||'-'!==t.charAt(e))throw new Error('Illegal attachments');n.attachments=Number(i)}if('/'===t.charAt(e+1)){const r=e+1;for(;++e;){if(','===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(r,e)}else n.nsp='/';const r=t.charAt(e+1);if(''!==r&&Number(r)==r){const r=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=this.tryParse(t.substr(e));if(!jd.isPayloadValid(n.type,r))throw new Error('invalid payload');n.data=r}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}}static isPayloadValid(t,e){switch(t){case Td.CONNECT:return'object'==typeof e;case Td.DISCONNECT:return void 0===e;case Td.CONNECT_ERROR:return'string'==typeof e||'object'==typeof e;case Td.EVENT:case Td.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case Td.ACK:case Td.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ld{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=Ad(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Pd=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Td},Encoder:class{constructor(t){this.replacer=t}encode(t){return t.type!==Td.EVENT&&t.type!==Td.ACK||!Od(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Td.EVENT?Td.BINARY_EVENT:Td.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=''+t.type;return t.type!==Td.BINARY_EVENT&&t.type!==Td.BINARY_ACK||(e+=t.attachments+'-'),t.nsp&&'/'!==t.nsp&&(e+=t.nsp+','),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=xd(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}},Decoder:jd});function Rd(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Bd=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Nd extends qp{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Rd(t,'open',this.onopen.bind(this)),Rd(t,'packet',this.onpacket.bind(this)),Rd(t,'error',this.onerror.bind(this)),Rd(t,'close',this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),'open'===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift('message'),this.emit.apply(this,t),this}emit(t,...e){if(Bd.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const n={type:Td.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,'function'==typeof e[e.length-1]){const t=this.ids++,r=e.pop();this._registerAckCallback(t,r),n.id=t}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(t,e){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[t]=e);const i=this.io.setTimeoutFn((()=>{delete this.acks[t];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===t&&this.sendBuffer.splice(e,1);e.call(this,new Error('operation has timed out'))}),r);this.acks[t]=(...t)=>{this.io.clearTimeoutFn(i),e.apply(this,[null,...t])}}emitWithAck(t,...e){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((r,i)=>{e.push(((t,e)=>n?t?i(t):r(e):r(t))),this.emit(t,...e)}))}_addToQueue(t){let e;'function'==typeof t[t.length-1]&&(e=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push(((t,...r)=>{if(n!==this._queue[0])return;return null!==t?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(t)):(this._queue.shift(),e&&e(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){'function'==typeof this.auth?this.auth((t=>{this._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Td.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved('connect_error',t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved('disconnect',t,e)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Td.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved('connect_error',new Error('It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)'));break;case Td.EVENT:case Td.BINARY_EVENT:this.onevent(t);break;case Td.ACK:case Td.BINARY_ACK:this.onack(t);break;case Td.DISCONNECT:this.ondisconnect();break;case Td.CONNECT_ERROR:this.destroy();const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved('connect_error',e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&'string'==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,e.packet({type:Td.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];'function'==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved('connect'),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((t=>this.emitEvent(t))),this.receiveBuffer=[],this.sendBuffer.forEach((t=>{this.notifyOutgoingListeners(t),this.packet(t)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose('io server disconnect')}destroy(){this.subs&&(this.subs.forEach((t=>t())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Td.DISCONNECT}),this.destroy(),this.connected&&this.onclose('io client disconnect'),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,t.data)}}}function Id(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Id.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Id.prototype.reset=function(){this.attempts=0},Id.prototype.setMin=function(t){this.ms=t},Id.prototype.setMax=function(t){this.max=t},Id.prototype.setJitter=function(t){this.jitter=t};class Dd extends qp{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&'object'==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||'/socket.io',this.opts=e,Vp(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Id({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState='closed',this.uri=t;const r=e.parser||Pd;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf('open'))return this;this.engine=new yd(this.uri,this.opts);const e=this.engine,n=this;this._readyState='opening',this.skipReconnect=!1;const r=Rd(e,'open',(function(){n.onopen(),t&&t()})),i=Rd(e,'error',(e=>{n.cleanup(),n._readyState='closed',this.emitReserved('error',e),t?t(e):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const t=this._timeout;0===t&&r();const n=this.setTimeoutFn((()=>{r(),e.close(),e.emit('error',new Error('timeout'))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState='open',this.emitReserved('open');const t=this.engine;this.subs.push(Rd(t,'ping',this.onping.bind(this)),Rd(t,'data',this.ondata.bind(this)),Rd(t,'error',this.onerror.bind(this)),Rd(t,'close',this.onclose.bind(this)),Rd(this.decoder,'decoded',this.ondecoded.bind(this)))}onping(){this.emitReserved('ping')}ondata(t){try{this.decoder.add(t)}catch(t){this.onclose('parse error',t)}}ondecoded(t){ld((()=>{this.emitReserved('packet',t)}),this.setTimeoutFn)}onerror(t){this.emitReserved('error',t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new Nd(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const t of e){if(this.nsps[t].active)return}this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach((t=>t())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose('forced close'),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,e){this.cleanup(),this.backoff.reset(),this._readyState='closed',this.emitReserved('close',t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved('reconnect_failed'),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{t.skipReconnect||(this.emitReserved('reconnect_attempt',t.backoff.attempts),t.skipReconnect||t.open((e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved('reconnect_error',e)):t.onreconnect()})))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved('reconnect',t)}}const Md={};function qd(t,e){'object'==typeof t&&(e=t,t=void 0);const n=function(t,e='',n){let r=t;n=n||'undefined'!=typeof location&&location,null==t&&(t=n.protocol+'//'+n.host),'string'==typeof t&&('/'===t.charAt(0)&&(t='/'===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+'//'+t:'https://'+t),r=gd(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port='80':/^(http|ws)s$/.test(r.protocol)&&(r.port='443')),r.path=r.path||'/';const i=-1!==r.host.indexOf(':')?'['+r.host+']':r.host;return r.id=r.protocol+'://'+i+':'+r.port+e,r.href=r.protocol+'://'+i+(n&&n.port===r.port?'':':'+r.port),r}(t,(e=e||{}).path||'/socket.io'),r=n.source,i=n.id,o=n.path,s=Md[i]&&o in Md[i].nsps;let a;return e.forceNew||e['force new connection']||!1===e.multiplex||s?a=new Dd(r,e):(Md[i]||(Md[i]=new Dd(r,e)),a=Md[i]),n.query&&!e.query&&(e.query=n.queryKey),a.socket(n.path,e)}Object.assign(qd,{Manager:Dd,Socket:Nd,io:qd,connect:qd});var Fd='http://localhost:9000',Hd='component:destroyed',zd=qd('http://localhost:3000',{auth:{token:'json-web-token'},transports:['websocket'],reconnection:!1}),Ud=function(t,e,n){return{get:function(){var t=n.value.bind(this);return Object.defineProperty(this,e,{value:t}),t}}},Vd=function(t){return function(e){return e===t}},Wd=Vd(!1),Kd=Vd(0),$d=Vd(null),Yd=Vd(void 0),Gd=Vd('true'),Jd=function(t){return $d(t)||Yd(t)},Xd=N([].slice),Qd=fi,Zd=Oi,tv=to,ev=it,nv=mr,rv=Or,iv=X,ov=ho,sv=de,av=Xd,cv=mo('slice'),uv=sv('species'),lv=Array,hv=Math.max;Qd({target:'Array',proto:!0,forced:!cv},{slice:function(t,e){var n,r,i,o=iv(this),s=rv(o),a=nv(t,s),c=nv(void 0===e?s:e,s);if(Zd(o)&&(n=o.constructor,(tv(n)&&(n===lv||Zd(n.prototype))||ev(n)&&null===(n=n[uv]))&&(n=void 0),n===lv||void 0===n))return av(o,a,c);for(r=new(void 0===n?lv:n)(hv(c-a,0)),i=0;a<c;a++,i++)a in o&&ov(r,i,o[a]);return r.length=i,r}});var fv,pv,dv,vv,gv=function(t,e){var n=t.querySelectorAll(e);return[].slice.call(n)},yv=function(t,e){var n=function(n){var r=n.target;t&&!t.contains(r)&&e&&e(n)};return document.addEventListener('click',n),function(){document.removeEventListener('click',n)}},bv=function(t,e){var n=new CustomEvent(e,{detail:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}});t.dispatchEvent(n)},mv=(pv=new WeakMap,fv=function(){function t(r,i){n(this,t),p(this,pv,{writable:!0,value:{isStepped:!1,rowSelector:'.filters__row',buttonSelector:'.filters__button',columnSelector:'[class*="col-"]:not(.filter__col)',columnClass:'col-md-6 col-lg-3',fcWrapperClass:'fc__wrapper',fcLabelClass:'fc__label',fcInputClass:'fc__input'}}),this.el=r,this.config=e(e(e({},f(this,pv)),i),r.dataset),this.isStepped=Gd(''.concat(this.config.isStepped)),this.nextChildren=void 0,this.data=this.config.propertyName?window[this.config.propertyName]:void 0,this.rowEl=r.querySelector(this.config.rowSelector),this.buttonEl=r.querySelector(this.config.buttonSelector),this.init()}return i(t,[{key:'init',value:function(){this.data&&(this.buildSelect(this.data),this.attachEvents(),this.isStepped||(this.buttonEl.disabled=!1))}},{key:'attachEvents',value:function(){this.buttonEl.addEventListener('click',this.sendSelections)}},{key:'sendSelections',value:function(){var t=gv(this.rowEl,'select').reduce((function(t,n){return e(e({},t),{},o({},n.dataset.label,n.value))}),{});bv(window,'filter:changed',e({},t))}},{key:'buildSelect',value:function(t){t.options.length&&this.buildHTML(t)}},{key:'buildElement',value:function(t,e,n){var r=Op(t).withProperties(e).unwrap();return n&&(r.innerText=n),r}},{key:'buildHTML',value:function(t){var e=this,n=t.id,r=t.label,i=t.options,o='f-'.concat(n),s=this.buildElement('div',{class:this.config.columnClass}),a=this.buildElement('div',{class:this.config.fcWrapperClass}),c=this.buildElement('label',{for:o,class:this.config.fcLabelClass},r),u=this.buildElement('select',{id:o,class:this.config.fcInputClass,'data-label':r.toLowerCase().replace(' ','-')});if(this.isStepped){var l=this.buildElement('option',{disabled:'true',selected:'true',value:''},'Please select one');u.appendChild(l)}i.map((function(t){var n=!Jd(t.children),r=e.buildElement('option',{value:t.value,'data-has-children':''.concat(n)},t.text);u.appendChild(r)})),this.nextChildren=i[0].children,u.onchange=function(){var t=u.selectedIndex,n=u.options[t],r=e.isStepped?i[t-1].children:i[t].children;e.isStepped?e.buttonEl.disabled=!0:e.nextChildren=r,Gd(n.dataset.hasChildren)?(e.columns=gv(e.rowEl,e.config.columnSelector),e.removeColumns(e.columns.indexOf(s)),e.buildSelect(r)):e.isStepped&&(e.buttonEl.disabled=!1)},a.appendChild(c),a.appendChild(u),s.appendChild(a),this.rowEl.insertBefore(s,this.buttonEl.parentNode),this.isStepped||Jd(this.nextChildren)||(this.buildSelect(this.nextChildren),this.nextChildren=void 0)}},{key:'removeColumns',value:function(t){var e=this;this.columns.forEach((function(n,r){r>t&&e.rowEl.removeChild(n)}))}}]),t}(),h(fv.prototype,'sendSelections',[Ud],Object.getOwnPropertyDescriptor(fv.prototype,'sendSelections'),fv.prototype),fv),wv=Jo.filter;fi({target:'Array',proto:!0,forced:!mo('filter')},{filter:function(t){return wv(this,t,arguments.length>1?arguments[1]:void 0)}});var Ev,kv,Sv,Ov,xv,Cv,Av=(vv=new WeakMap,dv=function(){function t(r,i){n(this,t),p(this,vv,{writable:!0,value:{buttonSelector:'.dropdown__button',listSelector:'.dropdown__list',linkSelector:'.dropdown__link'}}),this.el=r,this.config=e(e(e({},f(this,vv)),i),r.dataset),this.buttonEl=this.el.querySelector(this.config.buttonSelector),this.listEl=this.el.querySelector(this.config.listSelector),this.links=gv(this.listEl,this.config.linkSelector),this.linksCount=this.links.length-1,this.activeEl=void 0,this.init()}return i(t,[{key:'init',value:function(){this.attachEvents();var t=this.config,e=t.defaultIndex,n=t.onInit,r=e?+e:0,i=this.links[r];i.setAttribute('aria-selected','true'),this.activeEl=i,n&&n(i,this.buttonEl)}},{key:'attachEvents',value:function(){var t=this;document.addEventListener('keydown',this.keydownHandler),this.buttonEl.addEventListener('click',this.clickHandler),this.links.forEach((function(e){return e.addEventListener('click',t.onChange)}))}},{key:'detachEvents',value:function(){var t=this;document.removeEventListener('keydown',this.keydownHandler),this.buttonEl.removeEventListener('click',this.clickHandler),this.links.forEach((function(e){return e.removeEventListener('click',t.onChange)}))}},{key:'open',value:function(t){t.preventDefault(),this.setAriaExpanded(!0),this.setAriaHidden(!1),this.removeHandler=yv(this.el,this.close)}},{key:'close',value:function(){this.setAriaExpanded(!1),this.setAriaHidden(!0),this.removeHandler()}},{key:'clickHandler',value:function(t){Gd(this.buttonEl.getAttribute('aria-expanded'))?this.close():this.open(t)}},{key:'setAriaExpanded',value:function(t){this.buttonEl.setAttribute('aria-expanded',''.concat(t))}},{key:'setAriaHidden',value:function(t){this.listEl.setAttribute('aria-hidden',''.concat(t))}},{key:'onChange',value:function(t){t.preventDefault();var e=t.currentTarget,n=this.config.onChange,r=this.activeEl;this.activeEl=e,this.setActive(e),this.close(),n&&n(e,r,this.buttonEl)}},{key:'keydownHandler',value:function(t){if('Escape'!==t.key){if('Tab'===t.key){var e=this.links[0],n=this.links[this.linksCount],r=document.activeElement;t.shiftKey?r===e&&(n.focus(),t.preventDefault()):r===n&&(e.focus(),t.preventDefault())}}else this.close()}},{key:'setActive',value:function(t){this.links.forEach((function(e){return e.setAttribute('aria-selected',''.concat(e===t))}))}},{key:'destroy',value:function(){this.detachEvents(),bv(this.el,Hd,{el:this.el})}}]),t}(),h(dv.prototype,'open',[Ud],Object.getOwnPropertyDescriptor(dv.prototype,'open'),dv.prototype),h(dv.prototype,'close',[Ud],Object.getOwnPropertyDescriptor(dv.prototype,'close'),dv.prototype),h(dv.prototype,'clickHandler',[Ud],Object.getOwnPropertyDescriptor(dv.prototype,'clickHandler'),dv.prototype),h(dv.prototype,'onChange',[Ud],Object.getOwnPropertyDescriptor(dv.prototype,'onChange'),dv.prototype),h(dv.prototype,'keydownHandler',[Ud],Object.getOwnPropertyDescriptor(dv.prototype,'keydownHandler'),dv.prototype),dv),_v=function(t){return t.getAttribute('href')},Tv=function(t){var e=document.body;t?(e.style.position='fixed',e.style.top='0'):(e.style.position=null,e.style.top=null)},jv=['box--emergency','box--fault','box--alarm','box--communication-error','box--status','box--notification'],Lv=function(t){jv.forEach((function(e){return t.classList.remove(e)}))},Pv=(kv=new WeakMap,Ev=function(){function t(r,i){n(this,t),p(this,kv,{writable:!0,value:{buttonSelector:'.header__button',navSelector:'.nav',listSelector:'.nav__list',linkSelector:'.nav__link',activeClass:'nav--open',messageSelector:'.header__message',widgetSelector:'.header__widget',boxIconSelector:'.box__icon',boxBadgeSelector:'.box__badge'}}),this.el=r,this.config=e(e(e({},f(this,kv)),i),r.dataset),this.buttonEl=this.el.querySelector(this.config.buttonSelector),this.navEl=this.el.querySelector(this.config.navSelector),this.listEl=this.el.querySelector(this.config.listSelector),this.links=gv(this.listEl,this.config.linkSelector),this.messageEl=this.el.querySelector(this.config.messageSelector),this.widgetEl=this.el.querySelector(this.config.widgetSelector),this.boxIconEl=this.widgetEl.querySelector(this.config.boxIconSelector),this.boxBadgeEl=this.widgetEl.querySelector(this.config.boxBadgeSelector),this.init()}return i(t,[{key:'init',value:function(){this.setAriaExpanded(!1),this.attachEvents(),this.setActiveItem();var t=this.el.querySelector('.js-dropdown');this.dropdown=new Av(t,{onInit:function(t,e){e.classList.add('flag','flag--'.concat(t.dataset.value)),e.querySelector('span').innerText=t.dataset.value},onChange:function(t,e,n){n.classList.remove('flag--'.concat(e.dataset.value)),n.classList.add('flag--'.concat(t.dataset.value)),n.querySelector('span').innerText=t.dataset.value}}),this.connectToServer()}},{key:'connectToServer',value:function(){var t=this;zd.on('message_from_server',(function(e){t.updateData(e)}))}},{key:'attachEvents',value:function(){this.buttonEl.addEventListener('click',this.toggleActive)}},{key:'detachEvents',value:function(){this.buttonEl.removeEventListener('click',this.toggleActive)}},{key:'updateData',value:function(t){var e=t.type,n=t.text,r=t.icon,i=t.messageCount;Lv(this.messageEl),Lv(this.widgetEl),this.messageEl.classList.add('box--'.concat(e)),this.messageEl.innerHTML=n,this.widgetEl.classList.add('box--'.concat(e)),this.boxIconEl.innerHTML=r,this.boxBadgeEl.innerHTML=''.concat(i)}},{key:'setAriaExpanded',value:function(t){this.buttonEl.setAttribute('aria-expanded',''.concat(t))}},{key:'toggleActive',value:function(t){var e=t.target;this.listEl.contains(e)||(Gd(this.buttonEl.getAttribute('aria-expanded'))?(Tv(!1),this.navEl.classList.remove(this.config.activeClass),this.removeHandler(),this.setAriaExpanded(!1)):(Tv(!0),this.navEl.classList.add(this.config.activeClass),this.removeHandler=yv(this.buttonEl,this.toggleActive),this.setAriaExpanded(!0)))}},{key:'setActiveItem',value:function(){var t=s(window.location.pathname.split('/').filter(Boolean).reverse(),1)[0],e=Vd(t),n=this.links.some((function(t){return e(_v(t))}));this.links.forEach((function(t,r){var i=_v(t),o=Kd(r)&&Wd(n),s=e(i);(o||s)&&t.setAttribute('aria-current','page')}))}},{key:'destroy',value:function(){this.detachEvents(),this.buttonEl.removeAttribute('aria-expanded'),this.dropdown.destroy(),bv(this.el,Hd,{el:this.el})}}]),t}(),h(Ev.prototype,'toggleActive',[Ud],Object.getOwnPropertyDescriptor(Ev.prototype,'toggleActive'),Ev.prototype),h(Ev.prototype,'setActiveItem',[Ud],Object.getOwnPropertyDescriptor(Ev.prototype,'setActiveItem'),Ev.prototype),Ev),Rv=an.exports,Bv=Fe,Nv=ct,Iv=function(t,e,n){return n.get&&Rv(n.get,e,{getter:!0}),n.set&&Rv(n.set,e,{setter:!0}),Bv.f(t,e,n)},Dv=m,Mv=de('species'),qv=to,Fv=_t,Hv=TypeError,zv=We,Uv=function(t){if(qv(t))return t;throw Hv(Fv(t)+' is not a constructor')},Vv=W,Wv=de('species'),Kv=TypeError,$v=/(?:ipad|iphone|ipod).*applewebkit/i.test(lt),Yv=g,Gv=kf,Jv=zo,Xv=et,Qv=Zt,Zv=b,tg=ks,eg=Xd,ng=_e,rg=function(t,e){if(t<e)throw Kv('Not enough arguments');return t},ig=$v,og=Rh,sg=Yv.setImmediate,ag=Yv.clearImmediate,cg=Yv.process,ug=Yv.Dispatch,lg=Yv.Function,hg=Yv.MessageChannel,fg=Yv.String,pg=0,dg={},vg='onreadystatechange';Zv((function(){Sv=Yv.location}));var gg=function(t){if(Qv(dg,t)){var e=dg[t];delete dg[t],e()}},yg=function(t){return function(){gg(t)}},bg=function(t){gg(t.data)},mg=function(t){Yv.postMessage(fg(t),Sv.protocol+'//'+Sv.host)};sg&&ag||(sg=function(t){rg(arguments.length,1);var e=Xv(t)?t:lg(t),n=eg(arguments,1);return dg[++pg]=function(){Gv(e,void 0,n)},Ov(pg),pg},ag=function(t){delete dg[t]},og?Ov=function(t){cg.nextTick(yg(t))}:ug&&ug.now?Ov=function(t){ug.now(yg(t))}:hg&&!ig?(Cv=(xv=new hg).port2,xv.port1.onmessage=bg,Ov=Jv(Cv.postMessage,Cv)):Yv.addEventListener&&Xv(Yv.postMessage)&&!Yv.importScripts&&Sv&&'file:'!==Sv.protocol&&!Zv(mg)?(Ov=mg,Yv.addEventListener('message',bg,!1)):Ov=vg in ng('script')?function(t){tg.appendChild(ng('script'))[vg]=function(){tg.removeChild(this),gg(t)}}:function(t){setTimeout(yg(t),0)});var wg={set:sg,clear:ag},Eg=function(){this.head=null,this.tail=null};Eg.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var kg,Sg,Og,xg,Cg,Ag=Eg,_g=/ipad|iphone|ipod/i.test(lt)&&'undefined'!=typeof Pebble,Tg=/web0s(?!.*chrome)/i.test(lt),jg=g,Lg=zo,Pg=y.f,Rg=wg.set,Bg=Ag,Ng=$v,Ig=_g,Dg=Tg,Mg=Rh,qg=jg.MutationObserver||jg.WebKitMutationObserver,Fg=jg.document,Hg=jg.process,zg=jg.Promise,Ug=Pg(jg,'queueMicrotask'),Vg=Ug&&Ug.value;if(!Vg){var Wg=new Bg,Kg=function(){var t,e;for(Mg&&(t=Hg.domain)&&t.exit();e=Wg.get();)try{e()}catch(t){throw Wg.head&&kg(),t}t&&t.enter()};Ng||Mg||Dg||!qg||!Fg?!Ig&&zg&&zg.resolve?((xg=zg.resolve(void 0)).constructor=zg,Cg=Lg(xg.then,xg),kg=function(){Cg(Kg)}):Mg?kg=function(){Hg.nextTick(Kg)}:(Rg=Lg(Rg,jg),kg=function(){Rg(Kg)}):(Sg=!0,Og=Fg.createTextNode(''),new qg(Kg).observe(Og,{characterData:!0}),kg=function(){Og.data=Sg=!Sg}),Vg=function(t){Wg.head||kg(),Wg.add(t)}}var $g=Vg,Yg=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Gg=g.Promise,Jg='object'==typeof Deno&&Deno&&'object'==typeof Deno.version,Xg=!Jg&&!Rh&&'object'==typeof window&&'object'==typeof document,Qg=g,Zg=Gg,ty=et,ey=ii,ny=wn,ry=de,iy=Xg,oy=Jg,sy=yt;Zg&&Zg.prototype;var ay=ry('species'),cy=!1,uy=ty(Qg.PromiseRejectionEvent),ly=ey('Promise',(function(){var t=ny(Zg),e=t!==String(Zg);if(!e&&66===sy)return!0;if(!sy||sy<51||!/native code/.test(t)){var n=new Zg((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[ay]=r,!(cy=n.then((function(){}))instanceof r))return!0}return!e&&(iy||oy)&&!uy})),hy={CONSTRUCTOR:ly,REJECTION_EVENT:uy,SUBCLASSING:cy},fy={},py=Pt,dy=TypeError,vy=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw dy('Bad Promise constructor');e=t,n=r})),this.resolve=py(e),this.reject=py(n)};fy.f=function(t){return new vy(t)};var gy,yy,by,my=fi,wy=Rh,Ey=g,ky=S,Sy=lr,Oy=Ta,xy=da,Cy=function(t){var e=Nv(t);Dv&&e&&!e[Mv]&&Iv(e,Mv,{configurable:!0,get:function(){return this}})},Ay=Pt,_y=et,Ty=it,jy=Xu,Ly=function(t,e){var n,r=zv(t).constructor;return void 0===r||Vv(n=zv(r)[Wv])?e:Uv(n)},Py=wg.set,Ry=$g,By=function(t,e){},Ny=Yg,Iy=Ag,Dy=zn,My=Gg,qy=fy,Fy='Promise',Hy=hy.CONSTRUCTOR,zy=hy.REJECTION_EVENT,Uy=hy.SUBCLASSING,Vy=Dy.getterFor(Fy),Wy=Dy.set,Ky=My&&My.prototype,$y=My,Yy=Ky,Gy=Ey.TypeError,Jy=Ey.document,Xy=Ey.process,Qy=qy.f,Zy=Qy,tb=!!(Jy&&Jy.createEvent&&Ey.dispatchEvent),eb='unhandledrejection',nb=function(t){var e;return!(!Ty(t)||!_y(e=t.then))&&e},rb=function(t,e){var n,r,i,o=e.value,s=1==e.state,a=s?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(s||(2===e.rejection&&cb(e),e.rejection=1),!0===a?n=o:(l&&l.enter(),n=a(o),l&&(l.exit(),i=!0)),n===t.promise?u(Gy('Promise-chain cycle')):(r=nb(n))?ky(r,n,c,u):c(n)):u(o)}catch(t){l&&!i&&l.exit(),u(t)}},ib=function(t,e){t.notified||(t.notified=!0,Ry((function(){for(var n,r=t.reactions;n=r.get();)rb(n,t);t.notified=!1,e&&!t.rejection&&sb(t)})))},ob=function(t,e,n){var r,i;tb?((r=Jy.createEvent('Event')).promise=e,r.reason=n,r.initEvent(t,!1,!0),Ey.dispatchEvent(r)):r={promise:e,reason:n},!zy&&(i=Ey['on'+t])?i(r):t===eb&&By('Unhandled promise rejection',n)},sb=function(t){ky(Py,Ey,(function(){var e,n=t.facade,r=t.value;if(ab(t)&&(e=Ny((function(){wy?Xy.emit('unhandledRejection',r,n):ob(eb,n,r)})),t.rejection=wy||ab(t)?2:1,e.error))throw e.value}))},ab=function(t){return 1!==t.rejection&&!t.parent},cb=function(t){ky(Py,Ey,(function(){var e=t.facade;wy?Xy.emit('rejectionHandled',e):ob('rejectionhandled',e,t.value)}))},ub=function(t,e,n){return function(r){t(e,r,n)}},lb=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,ib(t,!0))},hb=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Gy('Promise can\'t be resolved itself');var r=nb(e);r?Ry((function(){var n={done:!1};try{ky(r,e,ub(hb,n,t),ub(lb,n,t))}catch(e){lb(n,e,t)}})):(t.value=e,t.state=1,ib(t,!1))}catch(e){lb({done:!1},e,t)}}};if(Hy&&(Yy=($y=function(t){jy(this,Yy),Ay(t),ky(gy,this);var e=Vy(this);try{t(ub(hb,e),ub(lb,e))}catch(t){lb(e,t)}}).prototype,(gy=function(t){Wy(this,{type:Fy,done:!1,notified:!1,parent:!1,reactions:new Iy,rejection:!1,state:0,value:void 0})}).prototype=Sy(Yy,'then',(function(t,e){var n=Vy(this),r=Qy(Ly(this,$y));return n.parent=!0,r.ok=!_y(t)||t,r.fail=_y(e)&&e,r.domain=wy?Xy.domain:void 0,0==n.state?n.reactions.add(r):Ry((function(){rb(r,n)})),r.promise})),yy=function(){var t=new gy,e=Vy(t);this.promise=t,this.resolve=ub(hb,e),this.reject=ub(lb,e)},qy.f=Qy=function(t){return t===$y||undefined===t?new yy(t):Zy(t)},_y(My)&&Ky!==Object.prototype)){by=Ky.then,Uy||Sy(Ky,'then',(function(t,e){var n=this;return new $y((function(t,e){ky(by,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete Ky.constructor}catch(t){}Oy&&Oy(Ky,Yy)}my({global:!0,constructor:!0,wrap:!0,forced:Hy},{Promise:$y}),xy($y,Fy,!1),Cy(Fy);var fb=Gg,pb=hy.CONSTRUCTOR||!nl((function(t){fb.all(t).then(void 0,(function(){}))})),db=S,vb=Pt,gb=fy,yb=Yg,bb=Yu;fi({target:'Promise',stat:!0,forced:pb},{all:function(t){var e=this,n=gb.f(e),r=n.resolve,i=n.reject,o=yb((function(){var n=vb(e.resolve),o=[],s=0,a=1;bb(t,(function(t){var c=s++,u=!1;a++,db(n,e,t).then((function(t){u||(u=!0,o[c]=t,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise}});var mb=fi,wb=hy.CONSTRUCTOR,Eb=Gg,kb=ct,Sb=et,Ob=lr,xb=Eb&&Eb.prototype;if(mb({target:'Promise',proto:!0,forced:wb,real:!0},{catch:function(t){return this.then(void 0,t)}}),Sb(Eb)){var Cb=kb('Promise').prototype.catch;xb.catch!==Cb&&Ob(xb,'catch',Cb,{unsafe:!0})}var Ab=S,_b=Pt,Tb=fy,jb=Yg,Lb=Yu;fi({target:'Promise',stat:!0,forced:pb},{race:function(t){var e=this,n=Tb.f(e),r=n.reject,i=jb((function(){var i=_b(e.resolve);Lb(t,(function(t){Ab(i,e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Pb=S,Rb=fy;fi({target:'Promise',stat:!0,forced:hy.CONSTRUCTOR},{reject:function(t){var e=Rb.f(this);return Pb(e.reject,void 0,t),e.promise}});var Bb,Nb,Ib=We,Db=it,Mb=fy,qb=fi,Fb=hy.CONSTRUCTOR,Hb=function(t,e){if(Ib(t),Db(e)&&e.constructor===t)return e;var n=Mb.f(t);return(0,n.resolve)(e),n.promise};ct('Promise'),qb({target:'Promise',stat:!0,forced:Fb},{resolve:function(t){return Hb(this,t)}});var zb=(Nb=new WeakMap,Bb=function(){function t(r,i){n(this,t),p(this,Nb,{writable:!0,value:{inputSelector:'.fc__input:not(:disabled,  [type="radio"])',panelSelector:'[data-login]',radioSelector:'.fc__input[type="radio"]',errorClass:'fc--error',hiddenClass:'fc--hidden'}}),this.el=r,this.config=e(e(e({},f(this,Nb)),i),r.dataset),this.isValid=!1,this.loginMethod='password',this.radioEls=gv(r,this.config.radioSelector),this.panels=gv(r,this.config.panelSelector),this.init()}return i(t,[{key:'init',value:function(){this.getFields(),this.attachEvents()}},{key:'attachEvents',value:function(){var t=this;this.el.addEventListener('submit',this.submit),this.radioEls.forEach((function(e){e.addEventListener('change',(function(){return t.toggleLoginMethod(e)}))}))}},{key:'detachEvents',value:function(){var t=this;this.el.removeEventListener('submit',this.submit),this.fields.forEach((function(e){e.removeEventListener('blur',(function(){return t.toggleError(e)}))})),this.radioEls.forEach((function(e){e.removeEventListener('change',(function(){return t.toggleLoginMethod(e)}))}))}},{key:'getFields',value:function(){var t=this;this.fields=gv(this.el,this.config.inputSelector),this.fields.forEach((function(e){e.addEventListener('blur',(function(){return t.toggleError(e)}))}))}},{key:'getData',value:function(){var t={'sign-in-method':this.loginMethod};return this.fields.forEach((function(e){var n=e.getAttribute('name');t[n]=e.value})),t}},{key:'toggleLoginMethod',value:function(t){var e=this,n=t.value,r=this.el.querySelector('[data-login="'.concat(n,'"]'));this.loginMethod=n,this.panels.forEach((function(t){var n=t.querySelector('input');n.parentElement.classList.remove(e.config.errorClass),t===r?(t.classList.remove(e.config.hiddenClass),n.disabled=!1):(t.classList.add(e.config.hiddenClass),n.disabled=!0)}))}},{key:'submit',value:function(t){t.preventDefault(),this.validateFields(),this.isValid&&fetch(Fd,{method:'POST',headers:new Headers({'Content-Type':'application/json'}),body:JSON.stringify(this.getData())})}},{key:'toggleError',value:function(t){var e=t.value,n=e?'remove':'add';t.parentElement.classList[n](this.config.errorClass),this.isValid=''!==e}},{key:'validateFields',value:function(){this.getFields(),this.fields.forEach(this.toggleError)}},{key:'destroy',value:function(){this.detachEvents(),bv(this.el,Hd,{el:this.el})}}]),t}(),h(Bb.prototype,'toggleLoginMethod',[Ud],Object.getOwnPropertyDescriptor(Bb.prototype,'toggleLoginMethod'),Bb.prototype),h(Bb.prototype,'submit',[Ud],Object.getOwnPropertyDescriptor(Bb.prototype,'submit'),Bb.prototype),h(Bb.prototype,'toggleError',[Ud],Object.getOwnPropertyDescriptor(Bb.prototype,'toggleError'),Bb.prototype),h(Bb.prototype,'validateFields',[Ud],Object.getOwnPropertyDescriptor(Bb.prototype,'validateFields'),Bb.prototype),Bb),Ub=We,Vb=Bu,Wb=zo,Kb=S,$b=Jt,Yb=function(t,e,n,r){try{return r?e(Ub(n)[0],n[1]):e(n)}catch(e){Vb(t,'throw',e)}},Gb=yu,Jb=to,Xb=Or,Qb=ho,Zb=ju,tm=Su,em=Array,nm=function(t){var e=$b(t),n=Jb(this),r=arguments.length,i=r>1?arguments[1]:void 0,o=void 0!==i;o&&(i=Wb(i,r>2?arguments[2]:void 0));var s,a,c,u,l,h,f=tm(e),p=0;if(!f||this===em&&Gb(f))for(s=Xb(e),a=n?new this(s):em(s);s>p;p++)h=o?i(e[p],p):e[p],Qb(a,p,h);else for(l=(u=Zb(e,f)).next,a=n?new this:[];!(c=Kb(l,u)).done;p++)h=o?Yb(u,i,[c.value,p],!0):c.value,Qb(a,p,h);return a.length=p,a};fi({target:'Array',stat:!0,forced:!nl((function(t){Array.from(t)}))},{from:nm});var rm=Tr.includes,im=Ws;fi({target:'Array',proto:!0,forced:b((function(){return!Array(1).includes()}))},{includes:function(t){return rm(this,t,arguments.length>1?arguments[1]:void 0)}}),im('includes');var om=it,sm=q,am=de('match'),cm=function(t){var e;return om(t)&&(void 0!==(e=t[am])?!!e:'RegExp'==sm(t))},um=TypeError,lm=de('match'),hm=fi,fm=function(t){if(cm(t))throw um('The method doesn\'t accept regular expressions');return t},pm=Y,dm=fc,vm=function(t){var e=/./;try{'/./'[t](e)}catch(n){try{return e[lm]=!1,'/./'[t](e)}catch(t){}}return!1},gm=N(''.indexOf);hm({target:'String',proto:!0,forced:!vm('includes')},{includes:function(t){return!!~gm(dm(pm(this)),dm(fm(t)),arguments.length>1?arguments[1]:void 0)}});var ym=fi,bm=b,mm=Oi,wm=it,Em=Jt,km=Or,Sm=Li,Om=ho,xm=ao,Cm=mo,Am=yt,_m=de('isConcatSpreadable'),Tm=Am>=51||!bm((function(){var t=[];return t[_m]=!1,t.concat()[0]!==t})),jm=function(t){if(!wm(t))return!1;var e=t[_m];return void 0!==e?!!e:mm(t)};ym({target:'Array',proto:!0,arity:1,forced:!Tm||!Cm('concat')},{concat:function(t){var e,n,r,i,o,s=Em(this),a=xm(s,0),c=0;for(e=-1,r=arguments.length;e<r;e++)if(jm(o=-1===e?s:arguments[e]))for(i=km(o),Sm(c+i),n=0;n<i;n++,c++)n in o&&Om(a,c,o[n]);else Sm(c+1),Om(a,c++,o);return a.length=c,a}});var Lm=Fc,Pm=Math.floor,Rm=function(t,e){var n=t.length,r=Pm(n/2);return n<8?Bm(t,e):Nm(t,Rm(Lm(t,0,r),e),Rm(Lm(t,r),e),e)},Bm=function(t,e){for(var n,r,i=t.length,o=1;o<i;){for(r=o,n=t[o];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==o++&&(t[r]=n)}return t},Nm=function(t,e,n,r){for(var i=e.length,o=n.length,s=0,a=0;s<i||a<o;)t[s+a]=s<i&&a<o?r(e[s],n[a])<=0?e[s++]:n[a++]:s<i?e[s++]:n[a++];return t},Im=Rm,Dm=lt.match(/firefox\/(\d+)/i),Mm=!!Dm&&+Dm[1],qm=/MSIE|Trident/.test(lt),Fm=lt.match(/AppleWebKit\/(\d+)\./),Hm=!!Fm&&+Fm[1],zm=fi,Um=N,Vm=Pt,Wm=Jt,Km=Or,$m=vo,Ym=fc,Gm=b,Jm=Im,Xm=yi,Qm=Mm,Zm=qm,tw=yt,ew=Hm,nw=[],rw=Um(nw.sort),iw=Um(nw.push),ow=Gm((function(){nw.sort(void 0)})),sw=Gm((function(){nw.sort(null)})),aw=Xm('sort'),cw=!Gm((function(){if(tw)return tw<70;if(!(Qm&&Qm>3)){if(Zm)return!0;if(ew)return ew<603;var t,e,n,r,i='';for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)nw.push({k:e+r,v:n})}for(nw.sort((function(t,e){return e.v-t.v})),r=0;r<nw.length;r++)e=nw[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return'DGBEFHACIJK'!==i}}));zm({target:'Array',proto:!0,forced:ow||!sw||!aw||!cw},{sort:function(t){void 0!==t&&Vm(t);var e=Wm(this);if(cw)return void 0===t?rw(e):rw(e,t);var n,r,i=[],o=Km(e);for(r=0;r<o;r++)r in e&&iw(i,e[r]);for(Jm(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:Ym(e)>Ym(n)?1:-1}}(t)),n=Km(i),r=0;r<n;)e[r]=i[r++];for(;r<o;)$m(e,r++);return e}});var uw,lw,hw=function(){function t(){n(this,t),this.id='interactive.tooltip',this.selector='[data-tooltip-order]',this.activeClass='active',this.targetElements=[],this.items=[],this.init()}return i(t,[{key:'init',value:function(){window.localStorage.getItem(this.id)||this.create()}},{key:'create',value:function(){this.revalidate(),this.toggleClass(this.targetElements[0],!0)}},{key:'scrollTo',value:function(t){var e=t.getBoundingClientRect().top+window.scrollY-16;window.scrollTo(0,e)}},{key:'revalidate',value:function(){var t=this;this.targetElements=[],this.targetElements=this.getTargetElements(),this.targetElements.length&&this.targetElements.forEach((function(e){return t.add(e)}))}},{key:'getTargetElements',value:function(){return a(gv(document,this.selector)).sort((function(t,e){return+t.dataset.tooltipOrder-+e.dataset.tooltipOrder}))}},{key:'add',value:function(t){var e=this.buildHTML(t);t.appendChild(e),this.items=[].concat(a(this.items),[e])}},{key:'buildHTML',value:function(t){var e=this,n=t.querySelector('.tooltip');n&&t.removeChild(n);var r=function(t){return'right'===t.dataset.tooltipAlignment}(t)?'align--right':'',i=Op('div').withAttribute('class','tooltip '.concat(r)).unwrap(),o=Op('div').withAttribute('class','tooltip__content').appendTo(i).unwrap();Op('button').withProperties({class:'tooltip__close','aria-label':'click to close'}).appendTo(o).unwrap().onclick=function(n){e.hide(n,t)},Op('div').withAttribute('class','tooltip__text').appendTo(o).unwrap().innerHTML=t.dataset.tooltipContent;var s=Op('div').withAttribute('class','tooltip__pane').appendTo(o).unwrap(),a=Op('button').withAttribute('class','tooltip__button').appendTo(s).unwrap();a.innerText='Dismiss',a.onclick=function(n){e.hide(n,t,(function(){window.localStorage.setItem(e.id,'true')}))},s.appendChild(a);var c=this.targetElements.indexOf(t);if(c<this.targetElements.length-1){var u=Op('button').withAttribute('class','tooltip__button').appendTo(s).unwrap();u.innerText='Next',u.onclick=function(n){e.hide(n,t,(function(){var t=e.targetElements[c+1];e.toggleClass(t,!0),e.scrollTo(t)}))},s.appendChild(u)}return i}},{key:'hide',value:function(t,e,n){t.preventDefault(),this.toggleClass(e,!1),n&&n()}},{key:'toggleClass',value:function(t,e){e?t.classList.add(this.activeClass):t.classList.remove(this.activeClass)}}]),t}(),fw=new hw,pw={send:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1" title="Send"><path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"></path></svg>',flag:'<svg focusable="false" aria-hidden="true" viewBox="0 0 24 24" tabindex="-1" title="MarkAsUnread"><path d="M18.83 7h-2.6L10.5 4 4 7.4V17c-1.1 0-2-.9-2-2V7.17c0-.53.32-1.09.8-1.34L10.5 2l7.54 3.83c.43.23.73.7.79 1.17zM20 8H7c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm0 3.67L13.5 15 7 11.67V10l6.5 3.33L20 10v1.67z"></path></svg>'},dw='ascending',vw='descending',gw=(lw=new WeakMap,uw=function(){function t(r,i){n(this,t),p(this,lw,{writable:!0,value:{endpoint:'http://localhost:3012/api/table',tableSelector:'.table__element',searchInputSelector:'.table__input',pagingWrapperSelector:'.table__pages',prevButtonSelector:'.prev',nextButtonSelector:'.next',headerButtonClassName:'table__action',sortButtonClassName:'table__sort',pagingButtonActiveClassName:'active',pagingButtonClassNames:'button button--square table__button',unreadClassName:'unread',sortableColumns:['timestamp','name','type','priority']}}),this.el=r,this.config=e(e(e({},f(this,lw)),i),r.dataset),this.table=r.querySelector(this.config.tableSelector),this.pagingWrapper=r.querySelector(this.config.pagingWrapperSelector),this.prevButton=r.querySelector(this.config.prevButtonSelector),this.nextButton=r.querySelector(this.config.nextButtonSelector),this.searchEl=r.querySelector(this.config.searchInputSelector),this.data=[],this.currentPage=1,this.sortBy='',this.sortType='',this.totalPages=1,this.sendList=[],this.flagList=[],this.init()}return i(t,[{key:'init',value:function(){this.fetchData(),this.attachEvents()}},{key:'attachEvents',value:function(){this.searchEl.addEventListener('keyup',this.filterRows),this.prevButton.addEventListener('click',this.goToPage),this.nextButton.addEventListener('click',this.goToPage)}},{key:'buildCell',value:function(t,e){var n=Op(e?'th':'td').unwrap();return'string'==typeof t?n.innerText=t:n.appendChild(t),n}},{key:'buildPaging',value:function(){var t=this;this.pagingWrapper.innerHTML='',Array.from({length:this.totalPages}).forEach((function(e,n){return t.createPagingButton(n+1)}))}},{key:'buildRows',value:function(){var t=this;this.table.innerHTML='';var e=Op('thead').unwrap(),n=Op('tbody').unwrap(),r=s(this.createHeaderActionButton('send','6'),2),i=r[0],o=r[1],a=s(this.createHeaderActionButton('flag','5'),2),c=a[0],u=a[1];this.data.forEach((function(r){var s=r.id,a=r.isHeader,l=r.isRead,h=r.rows,f=Op('tr').withProperties({class:l?'':t.config.unreadClassName}).unwrap();a?(f.appendChild(t.buildCell(u,a)),f.appendChild(t.buildCell(o,a))):(f.appendChild(t.buildCell(t.buildRowCheckbox('flag',s,c),a)),f.appendChild(t.buildCell(t.buildRowCheckbox('send',s,i),a))),h.forEach((function(e){var n=t.config.sortableColumns.includes(e.toLowerCase()),r=t.buildCell(e,a);a&&n&&r.appendChild(t.createHeaderSortButton(e)),f.appendChild(r)})),(a?e:n).appendChild(f)})),this.table.appendChild(e),this.table.appendChild(n)}},{key:'buildRowCheckbox',value:function(t,e,n){var r=this,i=Op('input').withProperties({type:'checkbox'}).unwrap(),o=function(t){return t!==e},s={flag:function(){i.checked?r.flagList=[].concat(a(r.flagList),[e]):r.flagList=r.flagList.filter(o),n.disabled=!r.flagList.length},send:function(){i.checked?r.sendList=[].concat(a(r.sendList),[e]):r.sendList=r.sendList.filter(o),n.disabled=!r.sendList.length}};return i.value=e,i.onclick=s[t],i}},{key:'createHeaderActionButton',value:function(t,e){var n=this,r=Op('button').withProperties({class:this.config.headerButtonClassName,'aria-label':'click to '.concat(t,' selected items')}).unwrap();r.innerHTML=pw[t],r.disabled=!0,r.onclick=function(t){t.preventDefault(),n.fetchData()};var i=Op('div').withProperties({'data-tooltip-order':e,'data-tooltip-content':'click to '.concat(t,' selected items')}).unwrap();return i.appendChild(r),[r,i]}},{key:'createHeaderSortButton',value:function(t){var e=this,n=Op('button').withProperties({class:this.config.sortButtonClassName,'aria-label':'click to sort '.concat(dw,' / ').concat(vw)}).unwrap();return n.onclick=function(n){n.preventDefault();var r=e.sortBy;e.sortBy=t,e.sortType=r===t&&e.sortType===dw?vw:dw,e.fetchData()},n}},{key:'createPagingButton',value:function(t){var e=this,n=t===this.currentPage,r=n?this.config.pagingButtonActiveClassName:'',i=Op('button').withProperties({class:''.concat(this.config.pagingButtonClassNames,' ').concat(r),'aria-label':'click to go to item'}).appendTo(this.pagingWrapper).unwrap();i.innerText=''.concat(t),i.disabled=n,i.onclick=function(n){n.preventDefault(),e.currentPage=t,e.fetchData()}}},{key:'fetchData',value:function(){var t=this;this.searchEl.value='';var e=this.config.endpoint,n=this.sortType&&this.sortBy?'json/'.concat(this.sortType.toLowerCase(),'/').concat(this.sortBy.toLowerCase(),'.json'):e;fetch(n,{}).then((function(t){if(!t.ok)throw new Error('HTTP error, status: '.concat(t.status));return t.json()})).then((function(e){t.data=e.data,t.currentPage=1,t.totalPages=1,t.sendList=[],t.flagList=[],t.buildRows(),t.queryRows(),t.buildPaging(),t.updatePrevNext(),fw.revalidate()}))}},{key:'filterRows',value:function(){var t=this.searchEl.value.toLowerCase();this.rows.forEach((function(e){var n=e.innerText.toLowerCase().replace(/\t/g,' '),r=0===t.length,i=n.includes(t);e.style.display=r||i?'table-row':'none'}))}},{key:'getPayload',value:function(){return{page:this.currentPage,sortBy:this.sortBy,sortType:this.sortType,flag:this.flagList,send:this.sendList}}},{key:'goToPage',value:function(t){t.preventDefault();var e=t.currentTarget,n=this.config.prevButtonSelector.replace('.','');this.currentPage=e.classList.contains(n)?this.currentPage-1:this.currentPage+1,this.fetchData()}},{key:'queryRows',value:function(){this.rows=gv(this.table,'tbody > tr')}},{key:'updatePrevNext',value:function(){this.prevButton.disabled=1===this.currentPage,this.nextButton.disabled=this.currentPage===this.totalPages}}]),t}(),h(uw.prototype,'filterRows',[Ud],Object.getOwnPropertyDescriptor(uw.prototype,'filterRows'),uw.prototype),h(uw.prototype,'goToPage',[Ud],Object.getOwnPropertyDescriptor(uw.prototype,'goToPage'),uw.prototype),uw),yw={filters:{selector:'.js-filters',group:'filters',Component:mv},header:{selector:'.js-header',group:'template',Component:Pv},loginForm:{selector:'.js-login__form',group:'template',Component:zb},table:{selector:'.js-table',group:'table',Component:gw}},bw='data-mounted',mw={components:{},init:function(){Object.keys(yw).forEach((function(t){mw.createComponent(e(e({},yw[t]),{},{name:t}))}))}};mw.createComponent=function(t){var e=t.selector,n=t.name,r=t.group,i=t.options||{},o=r||n;gv(document,e).forEach((function(t){var e=t.getAttribute(bw);if(Yd(mw.components[o])&&(mw.components[o]=[]),$d(e)||Gd(e)){var r=new(0,yw[n].Component)(t,i);t.setAttribute(bw,'true'),mw.components[o].push(r),function(t){var e=t.element,n=t.name,r=t.group;e.addEventListener(Hd,(function t(){var i=mw.components[r],o=i.indexOf(n);e.setAttribute(bw,'false'),i.splice(o,1),i.length||delete mw.components[r],e.removeEventListener(Hd,t)}))}({element:t,name:r,group:o})}}))};var ww={};Object.keys(mw).forEach((function(t){Object.defineProperty(ww,t,{value:mw[t]})})),Yd(window.App)&&Object.defineProperty(window,'App',{value:ww}),document.addEventListener('DOMContentLoaded',(function(){ww.init(),Object.defineProperty(ww,'tooltip',{value:fw})}))}();
